{"version":3,"sources":["assets/img/empty.webp","config/formatAPI.js","config/constants.js","config/api.js","store/reducers/auth.js","store/actionTypes.js","store/reducers/root.js","store/index.js","components/Header.js","components/NavigationDrawer.js","components/Layout.js","store/actions.js","components/Forms/LoginForm.js","components/Forms/RegisterForm.js","components/LoadingIndicator.js","pages/AuthPage.js","pages/LogoutPage.js","utils/useAPIData.js","components/ActivitySelect.js","components/Forms/ShortcutForm.js","components/Dialogs/CreateShortcutDialog.js","components/Shortcuts.js","components/Forms/PerfomedActivityForm.js","components/Dialogs/EditPerformedActivityDialog.js","utils/index.js","components/PerformedActivitesForDate.js","pages/TodayPage.js","pages/AllTimePage.js","components/CategorySelect.js","components/Select.js","components/Forms/ActivityForm.js","components/List.js","components/Dialogs/EditActivityDialog.js","components/Lists/ActivityList.js","pages/ActivitiesPage.js","components/makeChart.js","components/Charts/CategorySharesChart.js","components/Forms/CategoryForm.js","components/Dialogs/EditCategoryDialog.js","components/Lists/CategoryList.js","pages/CategoriesPage.js","components/Forms/TagForm.js","components/Dialogs/EditTagDialog.js","components/Lists/TagsList.js","pages/TagsPage.js","components/EmptyPage.js","components/DateControl.js","components/Bar.js","components/Charts/TimeAwakeChart.js","components/Charts/SingleActivityDurationChart.js","pages/AnalysisPage.js","components/Charts/DurationPerDayChart.js","pages/ActivityPage.js","router/index.js","App.js","serviceWorker.js","config/Chart.js","index.js"],"names":["module","exports","formatTimestamp","timestamp","formatted","moment","isDST","utcOffset","formatPerformedActivities","activities","map","activity","finished_at","formatPerformedActivity","formatShortcuts","shortcuts","shortcut","icon","icons","formatShortcut","format","type","fn","data","Object","keys","durations","forEach","key","obj","from","to","newKey","values","time_awake","prop","element","total_duration_for_date","sort","a","b","formatAnalysis","Promise","resolve","API_BASE_URL","window","location","origin","NAV_DRAWER_LINKS","title","AccountCircle","ExitToApp","Today","History","Assessment","FormatListBulleted","Category","LocalOffer","CHART_COLORS","setTokenHeader","token","axios","defaults","headers","common","url","path","login","post","register","getProfile","get","getAllCategories","getAllCategoriesDetailed","createCategory","updateCategory","put","deleteCategory","delete","getAllActivities","getAllActivitiesDetailed","getActivity","id","then","createActivity","updateActivity","deleteActivity","getAllPerformedActivities","getAllPerformedActivitiesByDate","getPerformedActivitiesByDate","date","createPerformedActivity","updatePerformedActivity","deletePerformedActivity","getAllTags","createTag","updateTag","deleteTag","getAllShortcuts","createShortcut","deleteShortcut","getAnalysisByDate","initialState","localStorage","getItem","user","isLoggedIn","authReducer","state","action","setItem","removeItem","rootReducer","combineReducers","auth","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","useStyles","makeStyles","theme","appBar","backgroundColor","palette","background","default","boxShadow","flexGrow","fontWeight","marginLeft","Header","Subtitle","onMenuClick","useSelector","classes","AppBar","className","position","Toolbar","IconButton","edge","onClick","Typography","variant","color","innerDrawer","width","head","padding","spacing","paddingBottom","NavigationDrawer","open","onClose","onOpen","history","useHistory","email","Drawer","anchor","PaperProps","section","i","Fragment","List","entry","j","button","push","ListItemIcon","React","createElement","ListItemText","length","Divider","main","margin","props","Layout","children","HeaderProps","useState","isNavDrawerOpen","setIsNavDrawerOpen","marginBottom","textAlign","letterSpacing","LoginForm","dispatch","useDispatch","useForm","handleSubmit","setError","errors","isErrorOpen","setIsErrorOpen","onSubmit","password","res","loginAction","catch","error","response","status","message","clsx","noValidate","TextField","label","name","inputRef","fullWidth","helperText","Button","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","alternateTitle","RegisterForm","confirm_password","apiRegister","container","display","justifyContent","alignItems","LoadingIndicator","CircularProgress","height","flexDirection","form","fab","bottom","right","marginRight","close","top","left","AuthPage","shouldLogin","showRegisterForm","setShowRegisterForm","isLoading","setIsLoading","useEffect","finally","style","Fab","LogoutPage","useAPIData","method","API","bind","Error","defaultValue","setData","useReducer","reloadKey","reload","onLoad","divider","ActivitySelect","filter","renderActivities","toLowerCase","startsWith","Paper","elevation","input","marginTop","submitButton","ShortcutForm","watch","reset","getValues","setValue","setActivity","autoComplete","InputProps","endAdornment","InputAdornment","href","target","activity_id","CreateShortcutDialog","Dialog","DialogTitle","DialogContent","console","overflowX","chip","Shortcuts","isCreateModalOpen","setIsCreateModalOpen","Chip","onDelete","handleDelete","clickable","opacity","primaryInputs","timeDisplay","fontSize","getFinishedAtDefault","PerfomedActivityForm","defaultValues","control","formState","isDatePickerOpen","setIsDatePickerOpen","interval","setInterval","dirtyFields","clearInterval","render","onChange","value","TimePicker","ampm","EditPerformedActivityDialog","activity_name","msToHours","ms","roundTo","Math","floor","item","paper","userSelect","itemInnerWrapper","itemPrimary","itemSecondary","totalDuration","time","Entry","reloadList","isEditDialogOpen","setIsEditDialogOpen","onSwipeLeft","onSwipeRight","primary","secondary","category","forwardRef","ref","useMemo","unix","sortActivities","useImperativeHandle","TodayPage","list","useRef","current","accordionDetails","AllTimePage","Accordion","TransitionProps","unmountOnExit","AccordionSummary","AccordionDetails","root","CategorySelect","renderCategories","ThemedSelect","useTheme","defaultTheme","colors","primary75","primary50","primary25","danger","dangerLight","neutral0","neutral5","disabled","neutral10","neutral20","neutral30","neutral40","text","neutral50","neutral60","neutral70","neutral80","neutral90","controlHeight","ActivityForm","showAllCategories","submitText","tags","category_id","categoryId","setCategoryId","tagOptions","tag","log","as","Select","options","isMulti","find","option","tag_ids","overflow","apiDelete","EditDialog","ListItem","SwipeableProps","APIMethods","event","EventTarget","dispatchEvent","CustomEvent","detail","localeCompare","api","EditActivityDialog","category_name","buttonGroupWrapper","listItem","lineHeight","sortBy","setSortBy","total_duration","ToggleButtonGroup","exclusive","ToggleButton","stats","size","ActivitiesPage","makeChart","Child","args","attribute","labels","datasets","borderColor","CategoryForm","EditCategoryDialog","chart","CategoriesPage","handleLoad","addEventListener","removeEventListener","TagForm","EditTagDialog","TagsPage","EmptyPage","src","emptyGif","alt","controls","DateControl","setDate","newDate","subtract","ChevronLeft","add","ChevronRight","bar","barElement","borderRadius","barSurface","Bar","progress","gridTemplate","gridTemplateAreas","gridColumnGap","gridRowGap","gridArea","hours","durationToString","msToMinutes","containerSmall","duration","circle","timeAwake","small","relativeDuration","dark","borderWidth","maintainAspectRatio","cutoutPercentage","legend","tooltips","enabled","hover","mode","elements","arc","roundedCornersFor","center","maxText","fontColor","fontFamily","typography","subtitle1","fontStyle","minFontSize","maxFontSize","chartGroup","flex","AnalysisPage","useParams","activitiesOverThreshold","activitiesUnderThreshold","categories","subtitle","sortedDates","reduce","sum","firstDate","lastDate","point","radius","scales","xAxes","ticks","autoSkip","minRotation","maxRotation","callback","index","day","substring","ActivityPage","Router","App","CssBaseline","Boolean","hostname","match","Chart","pluginService","afterUpdate","undefined","config","getDatasetMeta","round","x","chartArea","y","outerRadius","innerRadius","thickness","_model","afterDraw","ctx","startAngle","PI","_view","endAngle","save","translate","fillStyle","beginPath","sin","cos","closePath","fill","restore","helpers","centerConfig","globalConfig","global","getValueOrDefault","defaultFontStyle","defaultFontFamily","font","fontString","measureText","defaultFontColor","textBaseline","centerX","centerY","fillText","createMuiTheme","ReactDOM","ThemeProvider","utils","MomentUtils","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f5359387.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/empty.bcf83b8f.webp\";","import moment from \"moment\"\r\nimport * as icons from \"@material-ui/icons\"\r\n\r\nexport const ACTIVITY_DETAILED = \"ACTIVITY_DETAILED\"\r\nexport const PERFORMED_ACTIVITIES = \"PERFORMED_ACTIVITIES\"\r\nexport const PERFORMED_ACTIVITIES_BY_DATE = \"PERFORMED_ACTIVITIES_BY_DATE\"\r\nexport const SHORTCUTS = \"SHORTCUTS\"\r\nexport const ANALYSIS = \"ANALYSIS\"\r\n\r\nfunction formatTimestamp(timestamp) {\r\n    const formatted = moment(timestamp)\r\n\r\n    if (formatted.isDST()) {\r\n        formatted.utcOffset(120)\r\n    } else {\r\n        formatted.utcOffset(60)\r\n    }\r\n\r\n    return formatted\r\n}\r\n\r\nfunction renameProperty(obj, from, to) {\r\n    if(from !== to) {\r\n        obj[to] = obj[from]\r\n        delete obj[from]\r\n    }\r\n}\r\n\r\nfunction formatActivityDetailed(activity) {\r\n    Object.keys(activity.durations).forEach(key => {\r\n        const newKey = moment(key, \"YYYY-MM-DD\").format(\"DD.MM.YYYY\")\r\n        renameProperty(activity.durations, key, newKey)\r\n    })\r\n\r\n    return activity\r\n}\r\n\r\nfunction formatPerformedActivity(activity) {\r\n    activity.finished_at = formatTimestamp(activity.finished_at)\r\n    \r\n    return activity\r\n}\r\n\r\nfunction formatPerformedActivities(activities) {\r\n    return activities.map(activity => formatPerformedActivity(activity))\r\n}\r\n\r\nfunction formatShortcut(shortcut) {\r\n    shortcut.icon = icons[shortcut.icon]\r\n\r\n    return shortcut\r\n}\r\n\r\nfunction formatShortcuts(shortcuts) {\r\n    return shortcuts.map(shortcut => formatShortcut(shortcut))\r\n}\r\n\r\nfunction formatAnalysis(data) {\r\n    data.time_awake = formatTimestamp(data.time_awake)\r\n\r\n    const keys = [\"activities\", \"categories\"]\r\n    keys.forEach(prop => {\r\n        data[prop].forEach(element => {\r\n            if (element.total_duration_for_date) {\r\n                element.total_duration_for_date = formatTimestamp(element.total_duration_for_date)\r\n            }\r\n        })\r\n\r\n        data[prop].sort((a, b) => (b.total_duration_for_date || 0) - (a.total_duration_for_date || 0))\r\n    })\r\n\r\n    return data\r\n}\r\n\r\nexport default function format(type) {\r\n    let fn\r\n\r\n    if (type === ACTIVITY_DETAILED) {\r\n        fn = data => formatActivityDetailed(data.data)\r\n    } else if (type === PERFORMED_ACTIVITIES) {\r\n        fn = data => formatPerformedActivities(data.data)\r\n    } else if (type === PERFORMED_ACTIVITIES_BY_DATE) {\r\n        fn = data => Object.values(data.data).map(formatPerformedActivities)\r\n    } else if (type === SHORTCUTS) {\r\n        fn = data => formatShortcuts(data.data)\r\n    } else if (type === ANALYSIS) {\r\n        fn = data => formatAnalysis(data.data)\r\n    }\r\n\r\n    return (data) => {\r\n        return new Promise(resolve => {\r\n            fn(data)\r\n            resolve(data)\r\n        })\r\n    }\r\n}","import moment from \"moment\"\r\n\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\"\r\nimport ExitToApp from \"@material-ui/icons/ExitToApp\"\r\nimport Today from \"@material-ui/icons/Today\"\r\nimport History from \"@material-ui/icons/History\"\r\nimport FormatListBulleted from \"@material-ui/icons/FormatListBulleted\"\r\nimport Category from \"@material-ui/icons/Category\"\r\nimport LocalOffer from \"@material-ui/icons/LocalOffer\"\r\nimport Assessment from \"@material-ui/icons/Assessment\"\r\n\r\nexport const API_BASE_URL = window.location.origin + \"/api\"\r\n\r\nexport const NAV_DRAWER_LINKS = [\r\n    [\r\n        {\r\n            title: \"Profile\",\r\n            to: \"/profile\",\r\n            icon: AccountCircle\r\n        },\r\n        {\r\n            title: \"Logout\",\r\n            to: \"/logout\",\r\n            icon: ExitToApp\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            title: \"Today\",\r\n            to: \"/today\",\r\n            icon: Today\r\n        },\r\n        {\r\n            title: \"All Time\",\r\n            to: \"/all-time\",\r\n            icon: History\r\n        },\r\n        {\r\n            title: \"Analysis\",\r\n            to: \"/analysis/\" + moment().format(\"YYYY-MM-DD\"),\r\n            icon: Assessment\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            title: \"Activities\",\r\n            to: \"/activities\",\r\n            icon: FormatListBulleted\r\n        },\r\n        {\r\n            title: \"Categories\",\r\n            to: \"/categories\",\r\n            icon: Category\r\n        },\r\n        {\r\n            title: \"Tags\",\r\n            to: \"/tags\",\r\n            icon: LocalOffer\r\n        }\r\n    ]\r\n]\r\n\r\nexport const CHART_COLORS = [\"#1976D2\", \"#388E3C\", \"#FFA000\", \"#7B1FA2\", \"#D32F2F\", \"#303F9F\", \"#E64A19\"]\r\n\r\nexport const ACTIVITY_ANALYSIS_THRESHOLD = .05","import axios from \"axios\"\r\n\r\nimport format, {\r\n    PERFORMED_ACTIVITIES,\r\n    PERFORMED_ACTIVITIES_BY_DATE,\r\n    SHORTCUTS,\r\n    ACTIVITY_DETAILED,\r\n    ANALYSIS\r\n} from \"./formatAPI.js\"\r\nimport { API_BASE_URL } from \"./constants.js\"\r\n\r\nexport function setTokenHeader(token) {\r\n    axios.defaults.headers.common = {\r\n        \"Authorization\": \"Baerer \" + token\r\n    }\r\n}\r\n\r\nfunction url(path) {\r\n    return API_BASE_URL + path\r\n}\r\n\r\nexport const login = (data) => axios.post(url(\"/auth/login\"), data)\r\nexport const register = (data) => axios.post(url(\"/auth/register\"), data)\r\nexport const getProfile = () => axios.get(url(\"/auth\"))\r\n\r\nexport const getAllCategories = () => axios.get(url(\"/categories\"))\r\nexport const getAllCategoriesDetailed = () => axios.get(url(\"/categories?details=true\"))\r\nexport const createCategory = (data) => axios.post(url(\"/categories\"), data)\r\nexport const updateCategory = (data) => axios.put(url(\"/categories\"), data)\r\nexport const deleteCategory = (data) => axios.delete(url(\"/categories\"), { data })\r\n\r\nexport const getAllActivities = () => axios.get(url(\"/activities\"))\r\nexport const getAllActivitiesDetailed = () => axios.get(url(\"/activities?details=true\"))\r\nexport const getActivity = (id) => axios.get(url(\"/activities/\" + id)).then(format(ACTIVITY_DETAILED))\r\nexport const createActivity = (data) => axios.post(url(\"/activities\"), data)\r\nexport const updateActivity = (data) => axios.put(url(\"/activities\"), data)\r\nexport const deleteActivity = (data) => axios.delete(url(\"/activities\"), { data })\r\n\r\nexport const getAllPerformedActivities = () => axios.get(url(\"/performed-activities\")).then(format(PERFORMED_ACTIVITIES))\r\nexport const getAllPerformedActivitiesByDate = () => axios.get(url(\"/performed-activities/date\")).then(format(PERFORMED_ACTIVITIES_BY_DATE))\r\nexport const getPerformedActivitiesByDate = (data) => axios.get(url(`/performed-activities/date?date=${data.date}`)).then(format(PERFORMED_ACTIVITIES))\r\nexport const createPerformedActivity = (data) => axios.post(url(\"/performed-activities\"), data)\r\nexport const updatePerformedActivity = (data) => axios.put(url(\"/performed-activities\"), data)\r\nexport const deletePerformedActivity = (data) => axios.delete(url(\"/performed-activities\"), { data })\r\n\r\nexport const getAllTags = () => axios.get(url(\"/tags\"))\r\nexport const createTag = (data) => axios.post(url(\"/tags\"), data)\r\nexport const updateTag = (data) => axios.put(url(\"/tags\"), data)\r\nexport const deleteTag = (data) => axios.delete(url(\"/tags\"), { data })\r\n\r\nexport const getAllShortcuts = () => axios.get(url(\"/shortcuts\")).then(format(SHORTCUTS))\r\nexport const createShortcut = (data) => axios.post(url(\"/shortcuts\"), data)\r\nexport const deleteShortcut = (data) => axios.delete(url(\"/shortcuts\"), { data })\r\n\r\nexport const getAnalysisByDate = (date) => axios.get(url(\"/analysis/\" + date)).then(format(ANALYSIS))","import { LOGIN, LOGOUT } from \"../actionTypes.js\"\r\nimport { setTokenHeader } from \"../../config/api.js\"\r\n\r\nconst initialState = {\r\n    token: localStorage.getItem(\"token\"),\r\n    user: null,\r\n    isLoggedIn: false\r\n}\r\n\r\nsetTokenHeader(localStorage.getItem(\"token\"))\r\n\r\nfunction authReducer(state = initialState, action) {\r\n    switch(action.type) {\r\n        case LOGIN:\r\n            localStorage.setItem(\"token\", action.token)\r\n            setTokenHeader(action.token)\r\n\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n                user: action.user,\r\n                isLoggedIn: true\r\n            }\r\n        \r\n        case LOGOUT:\r\n            localStorage.removeItem(\"token\")\r\n            setTokenHeader(null)\r\n\r\n            return {\r\n                ...initialState,\r\n                token: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer","export const LOGIN = \"LOGIN\"\r\nexport const LOGOUT = \"LOGOUT\"","import { combineReducers } from \"redux\"\r\n\r\nimport auth from \"./auth.js\"\r\n\r\nconst rootReducer = combineReducers({\r\n    auth\r\n})\r\n\r\nexport default rootReducer","import { createStore } from \"redux\"\r\n\r\nimport rootReducer from \"./reducers/root.js\"\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__?.()\r\n)\r\n\r\nexport default store","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { AppBar, Toolbar, IconButton, Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport MenuIcon from \"@material-ui/icons/Menu\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    appBar: {\r\n        backgroundColor: theme.palette.background.default,\r\n        boxShadow: \"none\"\r\n    },\r\n\r\n    title: {\r\n        flexGrow: 1,\r\n        fontWeight: \"medium\",\r\n        marginLeft: 20\r\n    }\r\n}))\r\n\r\nfunction Header({ title, Subtitle, onMenuClick }) {\r\n    const isLoggedIn = useSelector(store => store.auth.isLoggedIn)\r\n\r\n    const classes = useStyles()\r\n\r\n    if(!isLoggedIn) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <AppBar className={classes.appBar} position=\"static\">\r\n            <Toolbar>\r\n                <IconButton edge=\"start\" onClick={onMenuClick}>\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n\r\n                <Typography variant=\"h6\" className={classes.title} color=\"textPrimary\">\r\n                    {title}\r\n                </Typography>\r\n\r\n                { Subtitle && <Subtitle/> }\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Drawer, List, ListItem, ListItemText, ListItemIcon, Divider, Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport { NAV_DRAWER_LINKS } from \"../config/constants.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    innerDrawer: {\r\n        width: 256\r\n    },\r\n\r\n    head: {\r\n        padding: theme.spacing(2),\r\n        paddingBottom: 0\r\n    }\r\n}))\r\n\r\nfunction NavigationDrawer({ open, onOpen, onClose }) {\r\n    const history = useHistory()\r\n\r\n    const email = useSelector(store => store.auth.user?.email)\r\n\r\n    const classes = useStyles()\r\n\r\n    const redirect = (to) => {\r\n        onClose()\r\n        history.push(to)\r\n    }\r\n    \r\n    return (\r\n        <Drawer\r\n            open={open}\r\n            onClose={onClose}\r\n            anchor=\"left\"\r\n            PaperProps={{ className: classes.innerDrawer }}\r\n        >\r\n            <div className={classes.head}>\r\n                <Typography variant=\"subtitle1\">{ email }</Typography>\r\n            </div>\r\n\r\n            { /* TODO: Icons */ }\r\n\r\n            {NAV_DRAWER_LINKS.map((section, i) => (\r\n                <React.Fragment key={i}>\r\n                    <List>\r\n                        {section.map((entry, j) => (\r\n                            <ListItem button onClick={() => redirect(entry.to)} key={j}>\r\n                                <ListItemIcon>\r\n                                    {React.createElement(entry.icon)}\r\n                                </ListItemIcon>\r\n\r\n                                <ListItemText>{ entry.title }</ListItemText>\r\n                            </ListItem>\r\n                        ))}\r\n                    </List>\r\n\r\n                    { i < NAV_DRAWER_LINKS.length - 1 && <Divider/> }\r\n                </React.Fragment>\r\n            ))}\r\n        </Drawer>\r\n    )\r\n}\r\n\r\nexport default NavigationDrawer","import React, { useState } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Header from \"./Header.js\"\r\nimport NavigationDrawer from \"./NavigationDrawer.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    main: {\r\n        margin: props => `0 ${theme.spacing(2)}px ${theme.spacing(4)}px`\r\n    }\r\n}))\r\n\r\nfunction Layout({ children, HeaderProps = {} }) {\r\n    const isLoggedIn = useSelector(store => store.auth.isLoggedIn)\r\n\r\n    const classes = useStyles({ isLoggedIn })\r\n\r\n    const [isNavDrawerOpen, setIsNavDrawerOpen] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <Header onMenuClick={() => setIsNavDrawerOpen(true)} {...HeaderProps}/>\r\n\r\n            <NavigationDrawer\r\n                open={isNavDrawerOpen}\r\n                onClose={() => setIsNavDrawerOpen(false)}\r\n            />\r\n\r\n            <div className={classes.main}>\r\n                { children }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Layout","import { LOGIN, LOGOUT } from \"./actionTypes.js\"\r\n\r\nexport function login({ token, user }) {\r\n    return {\r\n        type: LOGIN,\r\n        token,\r\n        user\r\n    }\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: LOGOUT\r\n    }\r\n}","import React, { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport clsx from \"clsx\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { Typography, TextField, Button, Snackbar, IconButton } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport CloseIcon from \"@material-ui/icons/Close\"\r\n\r\nimport { login } from \"../../config/api.js\"\r\nimport { login as loginAction } from \"../../store/actions.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    spacing: {\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n\r\n    title: {\r\n        textAlign: \"center\",\r\n        fontWeight: 500,\r\n        letterSpacing: 2\r\n    }\r\n}))\r\n\r\nfunction LoginForm({ className }) {\r\n    const classes = useStyles()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const { register, handleSubmit, setError, errors } = useForm()\r\n\r\n    const [isErrorOpen, setIsErrorOpen] = useState(false)\r\n\r\n    const onSubmit = async (values) => {\r\n        if(!values.email || !values.password) {\r\n            return\r\n        }\r\n        \r\n        login(values)\r\n            .then(res => {\r\n                dispatch(loginAction(res.data))\r\n            })\r\n            .catch((error) => {\r\n                if(error.response.status === 404) {\r\n                    // Email address not found\r\n                    setError(\"email\", { message: \"Email Not found\" })\r\n                } else if (error.response.status === 401) {\r\n                    // Invalid password\r\n                    setError(\"password\", { message: \"Wrong password\" })\r\n                } else {\r\n                    setIsErrorOpen(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={className}>\r\n            <Typography variant=\"h5\" color=\"textPrimary\" className={clsx(classes.spacing, classes.title)}>LOGIN</Typography>\r\n\r\n            <form noValidate onSubmit={handleSubmit(onSubmit)} className={classes.spacing}>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    inputRef={register()}\r\n                    className={classes.spacing}\r\n                    fullWidth\r\n                    error={!!errors.email}\r\n                    helperText={errors.email?.message}\r\n                />\r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    inputRef={register()}\r\n                    className={classes.spacing}\r\n                    fullWidth\r\n                    error={!!errors.password}\r\n                    helperText={errors.password?.message}\r\n                />\r\n\r\n                <Button variant=\"outlined\" color=\"primary\" fullWidth type=\"submit\">Login</Button>\r\n            </form>\r\n\r\n            {isErrorOpen && (\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"right\"\r\n                    }}\r\n                    open={isErrorOpen}\r\n                    autoHideDuration={3000}\r\n                    onClose={() => setIsErrorOpen(false)}\r\n                    message=\"Login failed\"\r\n                    action={\r\n                        <IconButton onClick={() => setIsErrorOpen(false)} color=\"secondary\">\r\n                            <CloseIcon/>\r\n                        </IconButton>\r\n                    }\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import React, { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport clsx from \"clsx\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { Typography, TextField, Button, Snackbar, IconButton } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport CloseIcon from \"@material-ui/icons/Close\"\r\n\r\nimport { register as apiRegister } from \"../../config/api.js\"\r\nimport { login as loginAction } from \"../../store/actions.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    spacing: {\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n\r\n    title: {\r\n        textAlign: \"center\",\r\n        fontWeight: 500,\r\n        letterSpacing: 2\r\n    },\r\n\r\n    alternateTitle: {\r\n        textAlign: \"center\",\r\n        fontWeight: \"lighter\"\r\n    }\r\n}))\r\n\r\nfunction RegisterForm({ className }) {\r\n    const classes = useStyles()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const { register, handleSubmit, setError, errors } = useForm()\r\n\r\n    const [isErrorOpen, setIsErrorOpen] = useState(false)\r\n\r\n    const onSubmit = async (values) => {\r\n        if(!values.email || !values.password) {\r\n            return\r\n        }\r\n\r\n        if(values.password !== values.confirm_password) {\r\n            setError(\"confirm_password\", { message: \"Passwords do not match\" })\r\n            return\r\n        }\r\n\r\n        apiRegister(values)\r\n            .then(res => {\r\n                dispatch(loginAction(res.data))\r\n            })\r\n            .catch((error) => {\r\n                if(error.response.status === 409) {\r\n                    // Email already exists\r\n                    setError(\"email\", { message: \"Email is already taken\" })\r\n                } else {\r\n                    setIsErrorOpen(true)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={className}>\r\n            <Typography variant=\"h5\" color=\"textPrimary\" className={clsx(classes.spacing, classes.title)}>REGISTER</Typography>\r\n\r\n            <form noValidate onSubmit={handleSubmit(onSubmit)} className={classes.spacing}>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    inputRef={register()}\r\n                    className={classes.spacing}\r\n                    fullWidth\r\n                    error={!!errors.email}\r\n                    helperText={errors.email?.message}\r\n                />\r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    inputRef={register()}\r\n                    className={classes.spacing}\r\n                    fullWidth\r\n                />\r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Confirm Password\"\r\n                    name=\"confirm_password\"\r\n                    type=\"password\"\r\n                    inputRef={register()}\r\n                    className={classes.spacing}\r\n                    fullWidth\r\n                    error={!!errors.confirm_password}\r\n                    helperText={errors.confirm_password?.message}\r\n                />\r\n\r\n                <Button variant=\"outlined\" color=\"primary\" fullWidth type=\"submit\">Register</Button>\r\n            </form>\r\n\r\n            {isErrorOpen && (\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"right\"\r\n                    }}\r\n                    open={isErrorOpen}\r\n                    autoHideDuration={3000}\r\n                    onClose={() => setIsErrorOpen(false)}\r\n                    message=\"Registration failed\"\r\n                    action={\r\n                        <IconButton onClick={() => setIsErrorOpen(false)}>\r\n                            <CloseIcon/>\r\n                        </IconButton>\r\n                    }\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterForm","import React from \"react\"\r\nimport { CircularProgress } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    }\r\n}))\r\n\r\nfunction LoadingIndicator() {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <CircularProgress/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingIndicator","import React, { useEffect, useState } from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { IconButton, Fab } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport CloseIcon from \"@material-ui/icons/Close\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport LoginForm from \"../components/Forms/LoginForm.js\"\r\nimport RegisterForm from \"../components/Forms/RegisterForm.js\"\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\nimport { getProfile } from \"../config/api.js\"\r\nimport { login as loginAction } from \"../store/actions.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        paddingBottom: theme.spacing(4) + 48\r\n    },\r\n\r\n    form: {\r\n        padding: `0 ${theme.spacing(2)}px`\r\n    },\r\n\r\n    fab: {\r\n        position: \"fixed\",\r\n        bottom: theme.spacing(4),\r\n        right: theme.spacing(2),\r\n\r\n        \"& .MuiFab-label\": {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n\r\n            \"& svg\": {\r\n                marginRight: theme.spacing(1)\r\n            }\r\n        }\r\n    },\r\n\r\n    close: {\r\n        position: \"absolute\",\r\n        top: theme.spacing(4) - 12,\r\n        left: theme.spacing(4) - 12\r\n    }\r\n}))\r\n\r\nfunction AuthPage() {\r\n    const dispatch = useDispatch()\r\n\r\n    const isLoggedIn = useSelector(state => state.auth.isLoggedIn)\r\n    const token = useSelector(state => state.auth.token)\r\n\r\n    const shouldLogin = token && !isLoggedIn\r\n\r\n    const [showRegisterForm, setShowRegisterForm] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(shouldLogin)\r\n\r\n    const classes = useStyles({ showRegisterForm })\r\n\r\n    // Try login if token is set\r\n    useEffect(() => {\r\n        if (shouldLogin) {\r\n            getProfile()\r\n                .then(res => dispatch(loginAction({\r\n                    user: res.data,\r\n                    token\r\n                })))\r\n                .catch(() => localStorage.removeItem(\"token\"))\r\n                .finally(() => setIsLoading(false))\r\n        }\r\n    })\r\n    \r\n    return (\r\n        <Layout>\r\n            <div className={classes.container} style={{ paddingBottom: showRegisterForm && \"0\" }}>\r\n                {isLoading ? (\r\n                    <LoadingIndicator />\r\n                ) : showRegisterForm ? (\r\n                    <>\r\n                        <IconButton onClick={() => setShowRegisterForm(false)} className={classes.close}>\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n\r\n                        <RegisterForm className={classes.form} />\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <LoginForm className={classes.form} />\r\n\r\n                        <Fab variant=\"extended\" color=\"secondary\" className={classes.fab} onClick={() => setShowRegisterForm(true)}>\r\n                            <AddIcon />\r\n                            Register\r\n                        </Fab>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AuthPage","import React, { useEffect } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport { logout } from \"../store/actions.js\"\r\n\r\nfunction LogoutPage() {\r\n    const dispatch = useDispatch()\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        dispatch(logout())\r\n        history.push(\"/\")\r\n    }, [dispatch, history])\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"Logout\"\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default LogoutPage","import { useState, useEffect, useReducer } from \"react\"\r\n\r\nimport * as API from \"../config/api.js\"\r\n\r\nfunction useAPIData(props) {\r\n    const method = typeof props === \"string\" ? API[props] : API[props.method].bind(null, props.data)\r\n\r\n    if(!method) {\r\n        throw new Error(\"API Method \" + (props.method || props) + \" not found\")\r\n    }\r\n\r\n    const [isLoading, setIsLoading] = useState(!props.defaultValue)\r\n    const [data, setData] = useState(props.defaultValue)\r\n    const [error, setError] = useState()\r\n    const [reloadKey, reload] = useReducer((key) => key + 1, 0)\r\n\r\n    useEffect(() => {\r\n        if (props.defaultValue && reloadKey === 0) {\r\n            return\r\n        }\r\n\r\n        setIsLoading(true)\r\n\r\n        method()\r\n            .then(res => {\r\n                setData(res.data)\r\n                setError(null)\r\n                setIsLoading(false)\r\n                \r\n                if(props.onLoad) {\r\n                    props.onLoad(res.data)\r\n                }\r\n            })\r\n            .catch(error => {\r\n                setData(null)\r\n                setError(error)\r\n                setIsLoading(false)\r\n            })\r\n        // eslint-disable-next-line\r\n    }, [reloadKey])\r\n\r\n    return {\r\n        isLoading,\r\n        data,\r\n        error,\r\n        reload\r\n    }\r\n}\r\n\r\nexport default useAPIData","import React from \"react\"\r\nimport { Paper, List, ListItem, ListItemText, Divider } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\n\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    divider: {\r\n        margin: `0 ${theme.spacing(2)}px`\r\n    }\r\n}))\r\n\r\nfunction ActivitySelect({ filter = \"\", style, onClick }) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data } = useAPIData(\"getAllActivities\")\r\n\r\n    if(isLoading) {\r\n        return <LoadingIndicator/>\r\n    }\r\n\r\n    const renderActivities = data.filter(activity => activity.name.toLowerCase().startsWith(filter.toLowerCase()))\r\n    \r\n    return (\r\n        <Paper elevation={3} className={classes.container} style={style}>\r\n            {renderActivities.length > 0 ? (\r\n                <List>\r\n                    {renderActivities.map((activity, i) => (\r\n                        <React.Fragment key={activity.id}>\r\n                            <ListItem button onClick={() => onClick(activity)}>\r\n                                <ListItemText>{activity.name}</ListItemText>\r\n                            </ListItem>\r\n\r\n                            {i < renderActivities.length - 1 && <Divider className={classes.divider} />}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </List>\r\n            ) : (\r\n                <List>\r\n                    <ListItem>\r\n                        <ListItemText>No activities found</ListItemText>\r\n                    </ListItem>\r\n                </List>\r\n            )}\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default ActivitySelect","import React, { useState } from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { TextField, Button, InputAdornment } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport * as icons from \"@material-ui/icons\"\r\n\r\nimport ActivitySelect from \"../ActivitySelect.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    form: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    input: {\r\n        margin: `${theme.spacing(1)}px 0`,\r\n\r\n        \"&:first-child\": {\r\n            marginTop: 0\r\n        }\r\n    },\r\n\r\n    submitButton: {\r\n        margin: \"8px 0 16px 0\"\r\n    }\r\n}))\r\n\r\nfunction ShortcutForm({ onSubmit }) {\r\n    const classes = useStyles()\r\n\r\n    const { register, watch, reset, getValues, setValue } = useForm()\r\n\r\n    const [activity, setActivity] = useState()\r\n\r\n    const handleActivitySelect = (activity) => {\r\n        setActivity(activity)\r\n        setValue(\"activity_name\", activity.name)\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        if(!activity) {\r\n            return\r\n        }\r\n\r\n        onSubmit({\r\n            icon: getValues(\"icon\"),\r\n            activity_id: activity.id\r\n        }).then(reset)\r\n    }\r\n\r\n    return (\r\n        <form noValidate className={classes.form}>\r\n            <TextField\r\n                variant=\"outlined\"\r\n                label=\"Activity\"\r\n                name=\"activity_name\"\r\n                inputRef={register()}\r\n                className={classes.input}\r\n                fullWidth\r\n                autoComplete=\"off\"\r\n            />\r\n\r\n            <ActivitySelect\r\n                filter={watch(\"activity_name\")}\r\n                style={{ display: !watch(\"activity_name\") && \"none\" }}\r\n                onClick={handleActivitySelect}\r\n            />\r\n\r\n            <TextField\r\n                variant=\"outlined\"\r\n                label=\"Icon\"\r\n                name=\"icon\"\r\n                inputRef={register()}\r\n                className={classes.input}\r\n                fullWidth\r\n                autoComplete=\"off\"\r\n                InputProps={watch(\"icon\") && icons[watch(\"icon\")] ? {\r\n                    endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                            { React.createElement(icons[watch(\"icon\")]) }\r\n                        </InputAdornment>\r\n                    )\r\n                } : {} }\r\n            />\r\n\r\n            <Button href=\"https://material-ui.com/components/material-icons/\" target=\"_blank\">\r\n                View available icons\r\n            </Button>\r\n\r\n            <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                onClick={handleSubmit}\r\n                className={classes.submitButton}\r\n            >\r\n                Add\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default ShortcutForm","import React from \"react\"\r\nimport { Dialog, DialogTitle, DialogContent } from \"@material-ui/core\"\r\n\r\nimport ShortcutForm from \"../Forms/ShortcutForm.js\"\r\nimport { createShortcut } from \"../../config/api.js\"\r\n\r\nfunction CreateShortcutDialog({ open, onClose }) {\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            createShortcut(values).then(() => {\r\n                resolve()\r\n                onClose()\r\n            })\r\n            .catch(error => console.error(error))\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n        >\r\n            <DialogTitle>Create Shortcut</DialogTitle>\r\n\r\n            <DialogContent>\r\n                <ShortcutForm onSubmit={handleSubmit}/>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default CreateShortcutDialog","import React, { useState } from \"react\"\r\nimport { Chip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\n\r\nimport CreateShortcutDialog from \"./Dialogs/CreateShortcutDialog.js\"\r\nimport LoadingIndicator from \"./LoadingIndicator.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\nimport { deleteShortcut } from \"../config/api.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        marginBottom: theme.spacing(2),\r\n        overflowX: \"scroll\",\r\n        display: \"flex\"\r\n    },\r\n\r\n    chip: {\r\n        backgroundColor: \"#4B4B57\",\r\n        marginRight: theme.spacing(2)\r\n    }\r\n}))\r\n\r\nfunction Shortcuts({ onClick }) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data, reload } = useAPIData(\"getAllShortcuts\")\r\n\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false)\r\n\r\n    const handleDelete = (shortcut) => {\r\n        deleteShortcut(shortcut)\r\n            .then(reload)\r\n            .catch(error => console.error(error))\r\n    }\r\n\r\n    const handleAdd = () => {\r\n        setIsCreateModalOpen(true)\r\n    }\r\n\r\n    const handleCreateModalClose = () => {\r\n        setIsCreateModalOpen(false)\r\n        reload()\r\n    }\r\n\r\n    if(isLoading) {\r\n        return <LoadingIndicator/>\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            {data.map(shortcut => (\r\n                <Chip\r\n                    icon={shortcut.icon && React.createElement(shortcut.icon)}\r\n                    label={shortcut.activity.name}\r\n                    onClick={() => onClick(shortcut.activity)}\r\n                    onDelete={() => handleDelete(shortcut)}\r\n                    className={classes.chip}\r\n                    clickable\r\n                    key={shortcut.id}\r\n                />\r\n            ))}\r\n\r\n            <Chip\r\n                icon={<AddIcon/>}\r\n                label=\"Add Shortcut\"\r\n                onClick={handleAdd}\r\n                className={classes.chip}\r\n                clickable\r\n            />\r\n\r\n            <CreateShortcutDialog\r\n                open={isCreateModalOpen}\r\n                onClose={handleCreateModalClose}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Shortcuts","import React, { useState, useEffect } from \"react\"\r\nimport moment from \"moment\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { Typography, TextField, Button } from \"@material-ui/core\"\r\nimport { TimePicker } from \"@material-ui/pickers\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Shortcuts from \"../Shortcuts.js\"\r\nimport ActivitySelect from \"../ActivitySelect.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        opacity: .87\r\n    },\r\n\r\n    primaryInputs: {\r\n        display: \"flex\",\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    input: {\r\n        margin: `${theme.spacing(1)}px 0`\r\n    },\r\n\r\n    timeDisplay: {\r\n        width: theme.spacing(8),\r\n        marginLeft: theme.spacing(1),\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        fontSize: 20\r\n    },\r\n\r\n    submitButton: {\r\n        margin: \"8px 0 16px 0\"\r\n    }\r\n}))\r\n\r\nfunction getFinishedAtDefault() {\r\n    return moment()\r\n}\r\n\r\nfunction PerfomedActivityForm({ onSubmit, defaultValues, title = true, submitButton = false }) {\r\n    const classes = useStyles()\r\n\r\n    const { register, control, watch, reset, getValues, setValue, formState } = useForm({\r\n        defaultValues: {\r\n            finished_at: getFinishedAtDefault(),\r\n            ...defaultValues\r\n        }\r\n    })\r\n\r\n    const [isDatePickerOpen, setIsDatePickerOpen] = useState(false)\r\n\r\n    const handleSubmit = (activity) => {\r\n        const finished_at = getValues(\"finished_at\").format(\"YYYY-MM-DD HH:mm\")\r\n\r\n        onSubmit({\r\n            activity_id: activity?.id || defaultValues.activity_id,\r\n            finished_at\r\n        }).then(reset)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if(!(\"finished_at\" in formState.dirtyFields)) {\r\n                setValue(\"finished_at\", getFinishedAtDefault())\r\n            }\r\n        }, 250)\r\n\r\n        return () => clearInterval(interval)\r\n    })\r\n\r\n    return (\r\n        <>\r\n            {title && <Typography variant=\"subtitle1\" className={classes.title}>Register Activity</Typography> }\r\n\r\n            <form noValidate>\r\n                <div className={classes.primaryInputs}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        label=\"Activity\"\r\n                        name=\"activity_name\"\r\n                        inputRef={register()}\r\n                        className={classes.input}\r\n                        fullWidth\r\n                        autoComplete=\"off\"\r\n                    />\r\n\r\n                    <div className={classes.timeDisplay} onClick={() => setIsDatePickerOpen(true)}>\r\n                        {watch(\"finished_at\").format(\"HH:mm\")}\r\n                    </div>\r\n\r\n                    <Controller\r\n                        control={control}\r\n                        name=\"finished_at\"\r\n                        render={({ onChange, value }) => (\r\n                            <TimePicker\r\n                                value={value}\r\n                                open={isDatePickerOpen}\r\n                                onOpen={() => setIsDatePickerOpen(true)}\r\n                                onClose={() => setIsDatePickerOpen(false)}\r\n                                onChange={onChange}\r\n                                ampm={false}\r\n                                style={{ display: \"none\" }}\r\n                            />\r\n                        )}\r\n                    />\r\n                </div>\r\n\r\n                <ActivitySelect\r\n                    filter={watch(\"activity_name\")}\r\n                    style={{ display: !watch(\"activity_name\") && \"none\" }}\r\n                    onClick={handleSubmit}\r\n                />\r\n\r\n                <Shortcuts onClick={handleSubmit} />\r\n\r\n                {submitButton && (\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        onClick={handleSubmit}\r\n                        className={classes.submitButton}\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                )}\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PerfomedActivityForm\r\n","import React from \"react\"\r\nimport { Dialog, DialogTitle, DialogContent } from \"@material-ui/core\"\r\n\r\nimport PerformedActivityForm from \"../Forms/PerfomedActivityForm.js\"\r\nimport { updatePerformedActivity } from \"../../config/api.js\"\r\n\r\nfunction EditPerformedActivityDialog({ open, onClose, data }) {\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            updatePerformedActivity({\r\n                ...values,\r\n                id: data.id\r\n            }).then(() => {\r\n                resolve()\r\n                onClose()\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n        >\r\n            <DialogTitle>Edit Entry</DialogTitle>\r\n\r\n            <DialogContent>\r\n                <PerformedActivityForm\r\n                    title={false}\r\n                    submitButton={true}\r\n                    defaultValues={{\r\n                        activity_name: data.activity.name,\r\n                        activity_id: data.activity.id,\r\n                        finished_at: data.finished_at,\r\n                    }}\r\n                    onSubmit={handleSubmit}\r\n                />\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default EditPerformedActivityDialog","import moment from \"moment\"\r\n\r\n// Sort performed activities by finished_at DESC\r\nexport function sortActivities(activities = []) {\r\n    return activities.sort((a, b) => b.finished_at.unix() - a.finished_at.unix())\r\n}\r\n\r\n// Source: https://stackoverflow.com/questions/4770025/how-to-disable-scrolling-temporarily\r\nfunction preventDefault(event) {\r\n    event.preventDefault()\r\n}\r\n\r\nconst options = {\r\n    passive: false\r\n}\r\n\r\n// Prevent scrolling of window\r\nexport function preventTouchScrolling() {\r\n    window.addEventListener(\"touchmove\", preventDefault, options)\r\n}\r\n\r\n// Release scrolling of window\r\nexport function releaseTouchScrolling() {\r\n    window.removeEventListener(\"touchmove\", preventDefault, options)\r\n}\r\n\r\n// Get the x, y position from event (cursor, touch)\r\nexport function getPositionFromEvent(event) {\r\n    return event.touches ? {\r\n        x: event.touches[0].clientX,\r\n        y: event.touches[0].clientY\r\n    } : {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n    }\r\n}\r\n\r\n// Round minutes to nearest given value\r\nexport function roundMinutesTo(time, minutes) {\r\n    const ms = minutes * 60 * 1000\r\n    return moment(Math.round((+time) / ms) * ms)\r\n}\r\n\r\n// Convert ms to hours\r\nexport function msToHours(ms, roundTo = 2) {\r\n    return Math.floor(ms / 1000 / 3600 * (10 ** roundTo)) / (10 ** roundTo)\r\n}\r\n\r\n// Convert ms to minutes\r\nexport function msToMinutes(ms, roundTo = 2) {\r\n    return Math.floor(ms / 1000 / 60 * (10 ** roundTo)) / (10 ** roundTo)\r\n}\r\n\r\n// Format duration in ms to \"HH:mm\" (Source: https://stackoverflow.com/questions/13262621/how-do-i-use-format-on-a-moment-js-duration)\r\n// export function formatDuration(ms) {\r\n//     return moment.utc(moment.duration(ms / 1000, \"seconds\").asMilliseconds()).format(\"HH:mm\")\r\n// }","import React, { useState, useMemo, useImperativeHandle } from \"react\"\r\nimport { Paper, List, ListItem, ListItemText } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Swipeable from \"react-mui-swipeable\"\r\n\r\nimport LoadingIndicator from \"./LoadingIndicator.js\"\r\nimport EditPerformedActivityDialog from \"./Dialogs/EditPerformedActivityDialog.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\nimport { sortActivities } from \"../utils\"\r\nimport { deletePerformedActivity } from \"../config/api.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        overflowX: \"hidden\",\r\n        width: \"100%\"\r\n    },\r\n\r\n    item: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        userSelect: \"none\"\r\n    },\r\n\r\n    itemInnerWrapper: {\r\n        display: \"flex\",\r\n        width: \"100%\"\r\n    },\r\n\r\n    itemPrimary: {\r\n        flexGrow: 1\r\n    },\r\n\r\n    itemSecondary: {\r\n        height: 56,\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    },\r\n\r\n    totalDuration: {\r\n        fontSize: 16,\r\n        marginRight: theme.spacing(),\r\n        opacity: .87\r\n    },\r\n\r\n    time: {\r\n        fontSize: 16\r\n    }\r\n}))\r\n\r\nfunction Entry({ entry, reloadList }) {\r\n    const classes = useStyles()\r\n\r\n    const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\r\n\r\n    const handleDelete = () => {\r\n        deletePerformedActivity(entry)\r\n            .then(() => reloadList())\r\n            .catch(error => console.error(error))\r\n    }\r\n\r\n    const handleEdit = () => {\r\n        setIsEditDialogOpen(true)\r\n    }\r\n\r\n    const handleEditDialogClose = () => {\r\n        setIsEditDialogOpen(false)\r\n        reloadList()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Swipeable onSwipeLeft={handleDelete} onSwipeRight={handleEdit}>\r\n                <ListItem className={classes.item}>\r\n                    <div className={classes.itemInnerWrapper}>\r\n                        <div className={classes.itemPrimary}>\r\n                            <ListItemText primary={entry.activity.name} secondary={entry.activity.category?.name} />\r\n                        </div>\r\n\r\n                        <div className={classes.itemSecondary}>\r\n                            {entry.activity.total_duration_for_date && (\r\n                                <span className={classes.totalDuration}>{ Math.floor(entry.activity.total_duration_for_date / 1000 / 3600 * 10) / 10 }h</span>\r\n                            )}\r\n\r\n                            <span className={classes.time}>\r\n                                {entry.finished_at.format(\"HH:mm\")}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </ListItem>\r\n            </Swipeable>\r\n\r\n            <EditPerformedActivityDialog\r\n                data={entry}\r\n                open={isEditDialogOpen}\r\n                onClose={handleEditDialogClose}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nfunction PerformedActivitesForDate({ date, defaultValue, style }, ref) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data, reload } = useAPIData({\r\n        method: \"getPerformedActivitiesByDate\",\r\n        defaultValue,\r\n        data: {\r\n            date: date.format(\"YYYY-MM-DD\")\r\n        }\r\n    })\r\n    \r\n    const activities = useMemo(() => sortActivities(data), [data])\r\n\r\n    useImperativeHandle(ref, () => ({ reload }), [reload])\r\n\r\n    if(isLoading) {\r\n        return <LoadingIndicator/>\r\n    }\r\n\r\n    return (\r\n        <Paper elevation={3} className={classes.container} style={style}>\r\n            <List>\r\n                {activities.length > 0 ? (\r\n                    activities.map((entry, i) => (\r\n                        <Entry entry={entry} reloadList={reload} key={entry.id} />\r\n                    ))\r\n                ) : (\r\n                    <ListItem>\r\n                        <ListItemText>No entries</ListItemText>\r\n                    </ListItem>\r\n                )}\r\n            </List>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default React.forwardRef(PerformedActivitesForDate)","import React, { useRef } from \"react\"\r\nimport moment from \"moment\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport PerformedActivityForm from \"../components/Forms/PerfomedActivityForm.js\"\r\nimport PerformedActivitesForDate from \"../components/PerformedActivitesForDate.js\"\r\nimport { createPerformedActivity } from \"../config/api.js\"\r\n\r\nfunction TodayPage() {\r\n    const list = useRef()\r\n\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            createPerformedActivity(values)\r\n                .then(() => {\r\n                    list.current.reload()\r\n                    resolve()\r\n                }).catch(error => {\r\n                    console.error(error)\r\n                })\r\n        }) \r\n    }\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"Today\"\r\n            }}\r\n        >\r\n            <PerformedActivityForm onSubmit={handleSubmit}/>\r\n\r\n            <PerformedActivitesForDate date={moment()} ref={list}/>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default TodayPage","import React from \"react\"\r\nimport moment from \"moment\"\r\nimport { Accordion, AccordionSummary, AccordionDetails, Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport PerformedActivitiesForDate from \"../components/PerformedActivitesForDate.js\"\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    list: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n\r\n    accordionDetails: {\r\n        padding: 0\r\n    }\r\n}))\r\n\r\nfunction AllTimePage() {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data } = useAPIData(\"getAllPerformedActivitiesByDate\")\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"All Time\"\r\n            }}\r\n        >\r\n            <div className={classes.list}>\r\n                {isLoading ? <LoadingIndicator /> : (\r\n                    Object.keys(data).map(date => {\r\n                        date = moment(date, \"YYYY-DD-MM\")\r\n\r\n                        return (\r\n                            <Accordion TransitionProps={{ unmountOnExit: true }} key={date}>\r\n                                <AccordionSummary>\r\n                                    <Typography variant=\"subtitle1\">{date.format(\"DD.MM.YYYY\")}</Typography>\r\n                                </AccordionSummary>\r\n\r\n                                <AccordionDetails classes={{ root: classes.accordionDetails }}>\r\n                                    <PerformedActivitiesForDate\r\n                                        date={date}\r\n                                        defaultValue={data[date]}\r\n                                    />\r\n                                </AccordionDetails>\r\n                            </Accordion>\r\n                        )\r\n                    })\r\n                )}\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AllTimePage","import React from \"react\"\r\nimport { Paper, List, ListItem, ListItemText, Divider } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\n\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    divider: {\r\n        margin: `0 ${theme.spacing(2)}px`\r\n    }\r\n}))\r\n\r\nfunction CategorySelect({ filter = \"\", style, onClick }) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data } = useAPIData(\"getAllCategories\")\r\n\r\n    if (isLoading) {\r\n        return <LoadingIndicator />\r\n    }\r\n\r\n    const renderCategories = data.filter(category => category.name.toLowerCase().startsWith(filter.toLowerCase()))\r\n\r\n    return (\r\n        <Paper elevation={3} className={classes.container} style={style}>\r\n            {renderCategories.length > 0 ? (\r\n                <List>\r\n                    {renderCategories.map((category, i) => (\r\n                        <React.Fragment key={category.id}>\r\n                            <ListItem button onClick={() => onClick(category)}>\r\n                                <ListItemText>{category.name}</ListItemText>\r\n                            </ListItem>\r\n\r\n                            {i < renderCategories.length - 1 && <Divider className={classes.divider} />}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </List>\r\n            ) : (\r\n                <List>\r\n                    <ListItem>\r\n                        <ListItemText>No categories found</ListItemText>\r\n                    </ListItem>\r\n                </List>\r\n            )}\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CategorySelect","import React from \"react\"\r\nimport Select from \"react-select\"\r\nimport { useTheme } from \"@material-ui/core/styles\"\r\n\r\nfunction ThemedSelect(props) {\r\n    const theme = useTheme()\r\n\r\n    return (\r\n        <Select\r\n            {...props}\r\n            theme={defaultTheme => ({\r\n                ...defaultTheme,\r\n                colors: {\r\n                    ...defaultTheme.colors,\r\n\r\n                    primary: theme.palette.primary.main,\r\n                    primary75: theme.palette.primary.main,\r\n                    primary50: theme.palette.primary.main,\r\n                    primary25: theme.palette.background.paper,\r\n\r\n                    danger: theme.palette.error.main,\r\n                    dangerLight: theme.palette.error.main,\r\n\r\n                    neutral0: theme.palette.background.default,\r\n                    neutral5: theme.palette.action.disabled,\r\n                    neutral10: theme.palette.action.disabled,\r\n                    neutral20: theme.palette.action.disabled,\r\n                    neutral30: theme.palette.action.disabled,\r\n                    neutral40: theme.palette.text.secondary,\r\n                    neutral50: theme.palette.text.secondary,\r\n                    neutral60: theme.palette.text.secondary,\r\n                    neutral70: theme.palette.text.secondary,\r\n                    neutral80: theme.palette.text.secondary,\r\n                    neutral90: theme.palette.text.secondary,\r\n                },\r\n                spacing: {\r\n                    ...defaultTheme.spacing,\r\n                    controlHeight: theme.spacing(7)\r\n                }\r\n            })}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ThemedSelect","import React, { useState, useMemo } from \"react\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { Typography, TextField, Button } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport LoadingIndicator from \"../LoadingIndicator.js\"\r\nimport CategorySelect from \"../CategorySelect.js\"\r\nimport Select from \"../Select.js\"\r\nimport useAPIData from \"../../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        opacity: .87\r\n    },\r\n\r\n    input: {\r\n        margin: `${theme.spacing(1)}px 0`\r\n    },\r\n\r\n    submitButton: {\r\n        margin: \"8px 0 16px 0\"\r\n    }\r\n}))\r\n\r\nfunction ActivityForm({ onSubmit, defaultValues, title = true, showAllCategories = false, submitText = \"Create\" }) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data: tags } = useAPIData(\"getAllTags\")\r\n    \r\n    const { register, watch, reset, getValues, setValue, control } = useForm({ defaultValues })\r\n\r\n    const [categoryId, setCategoryId] = useState(defaultValues?.category_id)\r\n\r\n    const tagOptions = useMemo(() => {\r\n        return tags?.map(tag => ({\r\n            label: tag.name,\r\n            value: tag.id\r\n        }))\r\n    }, [tags])\r\n\r\n    const handleCategorySelect = (category) => {\r\n        setCategoryId(category.id)\r\n        setValue(\"category_name\", category.name)\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const values = getValues()\r\n\r\n        if(!values.name || !categoryId) {\r\n            return\r\n        }\r\n\r\n        values.tag_ids = values.tag_ids?.map(option => option.value)\r\n\r\n        onSubmit({\r\n            ...values,\r\n            category_id: categoryId\r\n        }).then(reset)\r\n    }\r\n\r\n    if(isLoading) {\r\n        return <LoadingIndicator/>\r\n    }\r\n\r\n    if(defaultValues) console.log(defaultValues)\r\n\r\n    return (\r\n        <>\r\n            {title && <Typography variant=\"subtitle1\" className={classes.title}>Create Activity</Typography>}\r\n\r\n            <form noValidate>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Name\"\r\n                    name=\"name\"\r\n                    inputRef={register()}\r\n                    className={classes.input}\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                />\r\n\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Category\"\r\n                    name=\"category_name\"\r\n                    inputRef={register()}\r\n                    className={classes.input}\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                />\r\n\r\n                <CategorySelect\r\n                    filter={watch(\"category_name\")}\r\n                    style={{ display: !showAllCategories && !watch(\"category_name\") && \"none\" }}\r\n                    onClick={handleCategorySelect}\r\n                />\r\n\r\n                <Controller\r\n                    as={Select}\r\n                    name=\"tag_ids\"\r\n                    label=\"Tags\"\r\n                    control={control}\r\n                    options={tagOptions}\r\n                    isMulti\r\n                    className={classes.input}\r\n                    defaultValue={defaultValues?.tags?.map(tag => tagOptions.find(option => option.value === tag.id))}\r\n                />\r\n\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    onClick={handleSubmit}\r\n                    className={classes.submitButton}\r\n                >\r\n                    { submitText }\r\n                </Button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActivityForm","import React, { useState, useImperativeHandle, useRef } from \"react\"\r\nimport { Paper, List as MuiList, ListItem as MuiListItem, ListItemText } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Swipeable from \"react-mui-swipeable\"\r\n\r\nimport LoadingIndicator from \"./LoadingIndicator.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\nimport * as api from \"../config/api.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        marginTop: theme.spacing(2),\r\n        padding: 0,\r\n        overflow: \"hidden\"\r\n    }\r\n}))\r\n\r\nfunction Entry({ data, reloadList, apiDelete, EditDialog, ListItem, SwipeableProps }) {\r\n    const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\r\n\r\n    const handleDelete = () => {\r\n        apiDelete({ id: data.id })\r\n            .then(reloadList)\r\n            .catch(console.error)\r\n    }\r\n\r\n    const handleEdit = () => {\r\n        setIsEditDialogOpen(true)\r\n    }\r\n\r\n    const handleEditDialogClose = () => {\r\n        setIsEditDialogOpen(false)\r\n        reloadList()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Swipeable onSwipeLeft={handleDelete} onSwipeRight={handleEdit} key={data.id} {...SwipeableProps}>\r\n                <ListItem data={data}/>\r\n            </Swipeable>\r\n\r\n            <EditDialog\r\n                open={isEditDialogOpen}\r\n                onClose={handleEditDialogClose}\r\n                data={data}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nfunction List({ APIMethods, EditDialog, ListItem, SwipeableProps, sort }, ref) {\r\n    const classes = useStyles()\r\n\r\n    const event = useRef(new EventTarget())\r\n\r\n    const { isLoading, data, reload } = useAPIData({\r\n        method: APIMethods.get,\r\n        onLoad: (data) => event.current.dispatchEvent(new CustomEvent(\"load\", { detail: data }))\r\n    })\r\n\r\n    useImperativeHandle(ref, () => ({ reload, event: event.current }), [reload, event])\r\n\r\n    if (isLoading) {\r\n        return <LoadingIndicator />\r\n    }\r\n\r\n    if(sort) {\r\n        data.sort(sort)\r\n    } else {\r\n        data.sort((a, b) => a.name.localeCompare(b.name))\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.container}>\r\n            <MuiList>\r\n                {data.length > 0 ? (\r\n                    data.map(tag => (\r\n                        <Entry\r\n                            key={tag.id}\r\n                            data={tag}\r\n                            reloadList={reload}\r\n                            apiDelete={api[APIMethods.delete]}\r\n                            EditDialog={EditDialog}\r\n                            ListItem={ListItem}\r\n                            SwipeableProps={SwipeableProps}\r\n                        />\r\n                    ))\r\n                ) : (\r\n                    <MuiListItem>\r\n                        <ListItemText>No entries</ListItemText>\r\n                    </MuiListItem>\r\n                )}\r\n            </MuiList>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default React.forwardRef(List)","import React from \"react\"\r\nimport { Dialog, DialogTitle, DialogContent } from \"@material-ui/core\"\r\n\r\nimport ActivityForm from \"../Forms/ActivityForm.js\"\r\nimport { updateActivity } from \"../../config/api.js\"\r\n\r\nfunction EditActivityDialog({ open, onClose, data }) {\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            updateActivity({\r\n                ...values,\r\n                id: data.id\r\n            }).then(() => {\r\n                resolve()\r\n                onClose()\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n        >\r\n            <DialogTitle>Edit Activity</DialogTitle>\r\n\r\n            <DialogContent>\r\n                <ActivityForm\r\n                    title={false}\r\n                    showAllCategories\r\n                    submitText=\"Save\"\r\n                    defaultValues={{\r\n                        ...data,\r\n                        category_id: data.category.id,\r\n                        category_name: data.category.name\r\n                    }}\r\n                    onSubmit={handleSubmit}\r\n                />\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default EditActivityDialog","import React, { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { ListItem, Typography, Chip } from \"@material-ui/core\"\r\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/lab\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport SortByAlphaIcon from \"@material-ui/icons/SortByAlpha\"\r\nimport SortByDurationIcon from \"@material-ui/icons/Schedule\"\r\n\r\nimport List from \"../List.js\"\r\nimport EditActivityDialog from \"../Dialogs/EditActivityDialog.js\"\r\nimport { msToHours } from \"../../utils\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    buttonGroupWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"flex-end\",\r\n        margin: `${theme.spacing(1)}px 0`\r\n    },\r\n\r\n    listItem: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"stretch\",\r\n        backgroundColor: theme.palette.background.paper\r\n    },\r\n\r\n    main: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\"\r\n    },\r\n\r\n    secondary: {\r\n        fontSize: 14,\r\n        lineHeight: 2,\r\n        opacity: .87\r\n    },\r\n\r\n    tags: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n\r\n    chip: {\r\n        marginRight: theme.spacing(1),\r\n\r\n        \"&:last-child\": {\r\n            margin: 0\r\n        }\r\n    }\r\n}))\r\n\r\nfunction ActivityList(props, ref) {\r\n    const history = useHistory()\r\n\r\n    const classes = useStyles()\r\n\r\n    const [sortBy, setSortBy] = useState(\"name\")\r\n\r\n    let sort\r\n\r\n    if(sortBy === \"duration\") {\r\n        sort = (a, b) => b.total_duration - a.total_duration\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.buttonGroupWrapper}>\r\n                <ToggleButtonGroup value={sortBy} onChange={(event, value) => value && setSortBy(value)} exclusive>\r\n                    <ToggleButton value=\"name\"><SortByAlphaIcon/></ToggleButton>\r\n                    <ToggleButton value=\"duration\"><SortByDurationIcon/></ToggleButton>\r\n                </ToggleButtonGroup>\r\n            </div>\r\n\r\n            <List\r\n                ref={ref}\r\n                APIMethods={{\r\n                    get: \"getAllActivitiesDetailed\",\r\n                    delete: \"deleteActivity\"\r\n                }}\r\n                SwipeableProps={{\r\n                    onSwipeLeft: null\r\n                }}\r\n                EditDialog={EditActivityDialog}\r\n                sort={sort}\r\n                ListItem={React.forwardRef(({ data, ...props }, ref) => (\r\n                    <ListItem ref={ref} className={classes.listItem} onClick={() => history.push(\"/activity/\" + data.id)} {...props}>\r\n                        <div className={classes.main}>\r\n                            <Typography variant=\"subtitle1\">{data.name}</Typography>\r\n\r\n                            <span className={classes.secondary}>{data.category.name}</span>\r\n                        </div>\r\n\r\n                        <div className={classes.main}>\r\n                            <div className={classes.stats}>\r\n                                {msToHours(data.total_duration, 0)}h\r\n                        </div>\r\n\r\n                            <div className={classes.tags}>\r\n                                {data.tags.map(tag => <Chip variant=\"outlined\" label={tag.name} size=\"small\" className={classes.chip} key={tag.id} />)}\r\n                            </div>\r\n                        </div>\r\n                    </ListItem>\r\n                ))}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.forwardRef(ActivityList)","import React, { useRef } from \"react\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport ActivityForm from \"../components/Forms/ActivityForm.js\"\r\nimport ActivityList from \"../components/Lists/ActivityList.js\"\r\nimport { createActivity } from \"../config/api.js\"\r\n\r\nfunction ActivitiesPage() {\r\n    const list = useRef()\r\n\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            createActivity(values)\r\n                .then(() => {\r\n                    list.current.reload()\r\n                    resolve()\r\n                })\r\n                .catch(error => console.error(error))\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"Activities\"\r\n            }}\r\n        >\r\n            <ActivityForm onSubmit={handleSubmit}/>\r\n\r\n            <ActivityList ref={list}/>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default ActivitiesPage","import React from \"react\"\r\nimport clsx from \"clsx\"\r\nimport { Paper, Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        padding: theme.spacing(1)\r\n    },\r\n\r\n    title: {\r\n        textAlign: \"center\",\r\n        margin: `${theme.spacing(1)}px 0`\r\n    }\r\n}))\r\n\r\nfunction makeChart(Child, args = {}) {\r\n    return function Chart({ className, ...props }) {\r\n        const classes = useStyles()\r\n\r\n        return (\r\n            <Paper className={clsx(classes.container, className)}>\r\n                { args.title && <Typography variant=\"h6\" className={classes.title}>{ args.title }</Typography> }\r\n\r\n                <Child {...props}/>\r\n            </Paper>\r\n        )\r\n    }\r\n}\r\n\r\nexport default makeChart","import React from \"react\"\r\nimport { Pie } from \"react-chartjs-2\"\r\nimport { useTheme } from \"@material-ui/core/styles\"\r\n\r\nimport makeChart from \"../makeChart.js\"\r\nimport { CHART_COLORS } from \"../../config/constants.js\"\r\nimport { msToHours } from \"../../utils/index.js\"\r\n\r\nfunction CategorySharesChart({ data, attribute = \"total_duration\" }) {\r\n    const theme = useTheme()\r\n\r\n    data.sort((a, b) => b[attribute] - a[attribute])\r\n\r\n    return (\r\n        <Pie\r\n            height={300}\r\n\r\n            data={{\r\n                labels: data.map(category => category.name),\r\n\r\n                datasets: [{\r\n                    data: data.map(category => msToHours(category[attribute])),\r\n                    backgroundColor: CHART_COLORS,\r\n                    borderColor: theme.palette.background.paper\r\n                }]\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default makeChart(CategorySharesChart, {\r\n    title: \"Category Shares\"\r\n})","import React, { useMemo } from \"react\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { Typography, TextField, Button } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport LoadingIndicator from \"../LoadingIndicator.js\"\r\nimport Select from \"../Select.js\"\r\nimport useAPIData from \"../../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        opacity: .87\r\n    },\r\n\r\n    input: {\r\n        margin: `${theme.spacing(1)}px 0`\r\n    },\r\n\r\n    submitButton: {\r\n        margin: \"8px 0 16px 0\"\r\n    }\r\n}))\r\n\r\nfunction CategoryForm({ onSubmit, defaultValues, title = true, submitText = \"Create\" }) {\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data: tags } = useAPIData(\"getAllTags\")\r\n    \r\n    const { register, reset, getValues, control } = useForm({ defaultValues })\r\n\r\n    const tagOptions = useMemo(() => {\r\n        return tags?.map(tag => ({\r\n            label: tag.name,\r\n            value: tag.id\r\n        }))\r\n    }, [tags])\r\n\r\n    const handleSubmit = () => {\r\n        const values = getValues()\r\n\r\n        if (!values.name) {\r\n            return\r\n        }\r\n\r\n        values.tag_ids = values.tag_ids?.map(option => option.value)\r\n\r\n        onSubmit(values).then(reset)\r\n    }\r\n\r\n    if(isLoading) {\r\n        return <LoadingIndicator/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {title && <Typography variant=\"subtitle1\" className={classes.title}>Create Category</Typography>}\r\n\r\n            <form noValidate>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Name\"\r\n                    name=\"name\"\r\n                    inputRef={register()}\r\n                    className={classes.input}\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                />\r\n\r\n                <Controller\r\n                    as={Select}\r\n                    name=\"tag_ids\"\r\n                    label=\"Tags\"\r\n                    control={control}\r\n                    options={tagOptions}\r\n                    isMulti\r\n                    className={classes.input}\r\n                    defaultValue={defaultValues?.tags?.map(tag => tagOptions.find(option => option.value === tag.id))}\r\n                />\r\n\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    onClick={handleSubmit}\r\n                    className={classes.submitButton}\r\n                >\r\n                    { submitText }\r\n                </Button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CategoryForm","import React from \"react\"\r\nimport { Dialog, DialogTitle, DialogContent } from \"@material-ui/core\"\r\n\r\nimport CategoryForm from \"../Forms/CategoryForm.js\"\r\nimport { updateCategory } from \"../../config/api.js\"\r\n\r\nfunction EditActivityDialog({ open, onClose, data }) {\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            updateCategory({\r\n                ...values,\r\n                id: data.id\r\n            }).then(() => {\r\n                resolve()\r\n                onClose()\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n        >\r\n            <DialogTitle>Edit Category</DialogTitle>\r\n\r\n            <DialogContent>\r\n                <CategoryForm\r\n                    title={false}\r\n                    defaultValues={data}\r\n                    submitText=\"Save\"\r\n                    onSubmit={handleSubmit}\r\n                />\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default EditActivityDialog","import React from \"react\"\r\nimport { ListItem, ListItemText, Chip } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport List from \"../List.js\"\r\nimport EditCategoryDialog from \"../Dialogs/EditCategoryDialog.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    listItem: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\"\r\n    },\r\n\r\n    chip: {\r\n        marginRight: theme.spacing(1),\r\n\r\n        \"&:last-child\": {\r\n            margin: 0\r\n        }\r\n    }\r\n}))\r\n\r\nfunction CategoryList(props, ref) {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <List\r\n            ref={ref}\r\n            APIMethods={{\r\n                get: \"getAllCategoriesDetailed\",\r\n                delete: \"deleteCategory\"\r\n            }}\r\n            SwipeableProps={{\r\n                onSwipeLeft: null\r\n            }}\r\n            EditDialog={EditCategoryDialog}\r\n            ListItem={React.forwardRef(({ data, ...props }, ref) => (\r\n                <ListItem ref={ref} className={classes.listItem} {...props}>\r\n                    <ListItemText>{data.name}</ListItemText>\r\n\r\n                    <div>\r\n                        {data.tags.map(tag => <Chip variant=\"outlined\" label={tag.name} size=\"small\" className={classes.chip} key={tag.id} />)}\r\n                    </div>\r\n                </ListItem>\r\n            ))}\r\n        />\r\n    )\r\n}\r\n\r\nexport default React.forwardRef(CategoryList)","import React, { useRef, useEffect, useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\nimport CategorySharesChart from \"../components/Charts/CategorySharesChart.js\"\r\nimport CategoryForm from \"../components/Forms/CategoryForm.js\"\r\nimport CategoryList from \"../components/Lists/CategoryList.js\"\r\nimport { createCategory } from \"../config/api.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chart: {\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(3)\r\n    }\r\n}))\r\n\r\nfunction CategoriesPage() {\r\n    const classes = useStyles()\r\n\r\n    const list = useRef()\r\n\r\n    const [data, setData] = useState()\r\n\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            createCategory(values)\r\n                .then(() => {\r\n                    list.current.reload()\r\n                    resolve()\r\n                })\r\n                .catch(error => console.error(error))\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const { event } = list.current\r\n\r\n        const handleLoad = ({ detail: data }) => setData(data)\r\n\r\n        event.addEventListener(\"load\", handleLoad)\r\n\r\n        return () => {\r\n            event.removeEventListener(\"load\", handleLoad)\r\n        }\r\n    }, [list])\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"Categories\"\r\n            }}\r\n        >\r\n            {!data ? <LoadingIndicator /> : <CategorySharesChart data={data} className={classes.chart} />}\r\n\r\n            <CategoryForm onSubmit={handleSubmit} />\r\n\r\n            <CategoryList ref={list}/>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default CategoriesPage","import React from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { Typography, TextField, Button } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    title: {\r\n        opacity: .87\r\n    },\r\n\r\n    input: {\r\n        margin: `${theme.spacing(1)}px 0`\r\n    },\r\n\r\n    submitButton: {\r\n        margin: \"8px 0 16px 0\"\r\n    }\r\n}))\r\n\r\nfunction TagForm({ onSubmit, defaultValues, title = true, submitText = \"Create\" }) {\r\n    const classes = useStyles()\r\n\r\n    const { register, reset, getValues } = useForm({ defaultValues })\r\n\r\n\r\n    const handleSubmit = () => {\r\n        const values = getValues()\r\n\r\n        if (!values.name) {\r\n            return\r\n        }\r\n\r\n        onSubmit(values).then(reset)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {title && <Typography variant=\"subtitle1\" className={classes.title}>Create Tag</Typography>}\r\n\r\n            <form noValidate>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    label=\"Name\"\r\n                    name=\"name\"\r\n                    inputRef={register()}\r\n                    className={classes.input}\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                />\r\n\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    onClick={handleSubmit}\r\n                    className={classes.submitButton}\r\n                >\r\n                    {submitText}\r\n                </Button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TagForm","import React from \"react\"\r\nimport { Dialog, DialogTitle, DialogContent } from \"@material-ui/core\"\r\n\r\nimport TagForm from \"../Forms/TagForm.js\"\r\nimport { updateTag } from \"../../config/api.js\"\r\n\r\nfunction EditActivityDialog({ open, onClose, data }) {\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            updateTag({\r\n                ...values,\r\n                id: data.id\r\n            }).then(() => {\r\n                resolve()\r\n                onClose()\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n        >\r\n            <DialogTitle>Edit Tag</DialogTitle>\r\n\r\n            <DialogContent>\r\n                <TagForm\r\n                    title={false}\r\n                    defaultValues={data}\r\n                    submitText=\"Save\"\r\n                    onSubmit={handleSubmit}\r\n                />\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default EditActivityDialog","import React from \"react\"\r\nimport { ListItem, ListItemText } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport List from \"../List.js\"\r\nimport EditTagDialog from \"../Dialogs/EditTagDialog.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    listItem: {\r\n        backgroundColor: theme.palette.background.paper\r\n    }\r\n}))\r\n\r\nfunction TagsList(props, ref) {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <List\r\n            ref={ref}\r\n            APIMethods={{\r\n                get: \"getAllTags\",\r\n                delete: \"deleteTag\"\r\n            }}\r\n            EditDialog={EditTagDialog}\r\n            ListItem={React.forwardRef(({ data, ...props }, ref) => (\r\n                <ListItem ref={ref} className={classes.listItem} {...props}>\r\n                    <ListItemText>{ data.name }</ListItemText>\r\n                </ListItem>\r\n            ))}\r\n        />\r\n    )\r\n}\r\n\r\nexport default React.forwardRef(TagsList)","import React, { useRef } from \"react\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport TagForm from \"../components/Forms/TagForm.js\"\r\nimport TagsList from \"../components/Lists/TagsList.js\"\r\nimport { createTag } from \"../config/api.js\"\r\n\r\nfunction TagsPage() {\r\n    const list = useRef()\r\n\r\n    const handleSubmit = (values) => {\r\n        return new Promise(resolve => {\r\n            createTag(values)\r\n                .then(() => {\r\n                    list.current.reload()\r\n                    resolve()\r\n                })\r\n                .catch(error => console.error(error))\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"TagsPage\"\r\n            }}\r\n        >\r\n            <TagForm onSubmit={handleSubmit} />\r\n\r\n            <TagsList ref={list} />\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default TagsPage","import React from \"react\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport emptyGif from \"../assets/img/empty.webp\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: `${theme.spacing(4)}px 0`\r\n    },\r\n\r\n    title: {\r\n        marginBottom: theme.spacing(2)\r\n    }\r\n}))\r\n\r\nfunction EmptyPage() {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Typography variant=\"h6\" className={classes.title}>This page is empty</Typography>\r\n\r\n            <img src={emptyGif} alt=\"No content here\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmptyPage","import React, { useState } from \"react\"\r\nimport moment from \"moment\"\r\nimport { IconButton, Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { ChevronLeft } from \"@material-ui/icons\"\r\nimport { ChevronRight } from \"@material-ui/icons\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        width: \"100%\"\r\n    },\r\n\r\n    controls: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        width: 120\r\n    }\r\n}))\r\n\r\nfunction DateControl({ defaultValue = moment(), onChange = () => {} }) {\r\n    const classes = useStyles()\r\n\r\n    const [date, setDate] = useState(defaultValue)\r\n\r\n    const handleLeftClick = () => {\r\n        const newDate = moment(date).subtract(1, \"days\")\r\n        setDate(newDate)\r\n        onChange(newDate)\r\n    }\r\n\r\n    const handleRightClick = () => {\r\n        const newDate = moment(date).add(1, \"days\")\r\n        setDate(newDate)\r\n        onChange(newDate)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Typography variant=\"subtitle1\">{ date.format(\"DD.MM.YYYY\") } - { date.format(\"dddd\") }</Typography>\r\n\r\n            <div className={classes.controls}>\r\n                <IconButton onClick={handleLeftClick}>\r\n                    <ChevronLeft/>\r\n                </IconButton>\r\n                \r\n                <IconButton onClick={handleRightClick} disabled={date.format(\"YYYY-MM-DD\") === moment().format(\"YYYY-MM-DD\")}>\r\n                    <ChevronRight/>\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DateControl","import React from \"react\"\r\nimport clsx from \"clsx\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    bar: {\r\n        width: \"60%\",\r\n        height: theme.spacing(1),\r\n        position: \"relative\",\r\n        marginRight: theme.spacing(4)\r\n    },\r\n\r\n    barElement: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        backgroundColor: theme.palette.secondary.main,\r\n        borderRadius: theme.spacing(.5)\r\n    },\r\n\r\n    barSurface: {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        backgroundColor: theme.palette.secondary.main,\r\n        borderRadius: theme.spacing(.5),\r\n        opacity: .35\r\n    }\r\n}))\r\n\r\nfunction Bar({ className, progress }) {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={clsx(className, classes.bar)}>\r\n            <div className={classes.barElement} style={{ width: progress * 100 + \"%\" }} />\r\n            <div className={clsx(classes.barElement, classes.barSurface)} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bar","import React from \"react\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Bar from \"../Bar.js\"\r\nimport makeChart from \"../makeChart.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        padding: `0 ${theme.spacing(1)}px`,\r\n        display: \"grid\",\r\n        gridTemplate: \"2fr 1fr / 6fr 4fr\",\r\n        gridTemplateAreas: `\r\n            \"title hours\"\r\n            \"bar   hours\"\r\n        `,\r\n        gridColumnGap: theme.spacing(4),\r\n        gridRowGap: theme.spacing(1),\r\n        alignItems: \"center\"\r\n    },\r\n    \r\n    title: {\r\n        gridArea: \"title\"\r\n    },\r\n\r\n    bar: {\r\n        width: \"100%\",\r\n        height: theme.spacing(1),\r\n        gridArea: \"bar\"\r\n    },\r\n\r\n    hours: {\r\n        gridArea: \"hours\",\r\n        textAlign: \"center\"\r\n    }\r\n}))\r\n\r\nfunction TimeAwakeChart({ data }) {\r\n    const classes = useStyles()\r\n\r\n    const hours = Math.floor(data / 1000 / 3600 * 10) / 10\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Typography variant=\"h6\" className={classes.title}>Time Awake</Typography>\r\n\r\n            <Bar progress={hours / 24} className={classes.bar}/>\r\n\r\n            <Typography variant=\"h6\" className={classes.hours}>{ hours } Hours</Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default makeChart(TimeAwakeChart)","import React from \"react\"\r\nimport clsx from \"clsx\"\r\nimport { Doughnut } from \"react-chartjs-2\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\"\r\n\r\nimport makeChart from \"../makeChart.js\"\r\nimport { msToHours, msToMinutes } from \"../../utils\"\r\n\r\nfunction durationToString(ms) {\r\n    if (msToHours(ms) >= 1) {\r\n        return msToHours(ms, 1) + \" Hours\"\r\n    } else {\r\n        return msToMinutes(ms) + \" Minutes\"\r\n    }\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    container: {\r\n        display: \"grid\",\r\n        gridTemplate: \"1fr 1fr / 8fr 2fr\",\r\n        gridTemplateAreas: `\r\n            \"title    circle\"\r\n            \"duration circle\"\r\n        `,\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        padding: `0 ${theme.spacing(1)}px`\r\n    },\r\n\r\n    containerSmall: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        width: 120\r\n    },\r\n\r\n    title: {\r\n        gridArea: \"title\",\r\n        fontWeight: 500,\r\n        lineHeight: 1.5\r\n    },\r\n\r\n    duration: {\r\n        gridArea: \"duration\",\r\n        opacity: .87,\r\n        lineHeight: 1.5,\r\n        fontSize: 16\r\n    },\r\n\r\n    circle: {\r\n        gridArea: \"circle\"\r\n    }\r\n}))\r\n\r\nfunction SingleActivityDurationChart({ data, timeAwake, small = false }) {\r\n    const theme = useTheme()\r\n\r\n    const classes = useStyles()\r\n\r\n    const relativeDuration = Math.floor(data.total_duration_for_date / timeAwake * 100)\r\n\r\n    return (\r\n        <div className={clsx({ [classes.container]: !small, [classes.containerSmall]: small })}>\r\n            <Typography variant=\"subtitle1\" className={classes.title}>{ data.name }</Typography>\r\n\r\n            <Typography variant=\"subtitle1\" className={classes.duration}>{ durationToString(data.total_duration_for_date) }</Typography>\r\n\r\n            { !small && (\r\n                <div className={classes.circle}>\r\n                    <Doughnut\r\n                        height={40}\r\n                        width={40}\r\n\r\n                        data={{\r\n                            datasets: [{\r\n                                data: [relativeDuration, 100 - relativeDuration],\r\n                                backgroundColor: [theme.palette.secondary.main, theme.palette.secondary.dark],\r\n                                borderWidth: 0,\r\n                                \r\n                            }]\r\n                        }}\r\n                        \r\n                        options={{\r\n                            maintainAspectRatio: false,\r\n                            cutoutPercentage: 75,\r\n\r\n                            legend: {\r\n                                display: false\r\n                            },\r\n\r\n                            tooltips: {\r\n                                enabled: false\r\n                            },\r\n\r\n                            hover: {\r\n                                mode: null\r\n                            },\r\n\r\n                            elements: {\r\n                                arc: {\r\n                                    roundedCornersFor: 0\r\n                                },\r\n\r\n                                center: {\r\n                                    maxText: \"100%\",\r\n                                    text: relativeDuration + \"%\",\r\n                                    fontColor: theme.palette.text.primary,\r\n                                    fontFamily: theme.typography.subtitle1.fontFamily,\r\n                                    fontStyle: \"normal\",\r\n                                    minFontSize: 1,\r\n                                    maxFontSize: 64\r\n                                }\r\n                            }\r\n                        }}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default makeChart(SingleActivityDurationChart)","import React, { useEffect, useMemo } from \"react\"\r\nimport moment from \"moment\"\r\nimport clsx from \"clsx\"\r\nimport { useParams, useHistory } from \"react-router-dom\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\nimport EmptyPage from \"../components/EmptyPage.js\"\r\nimport DateControl from \"../components/DateControl.js\"\r\nimport TimeAwakeChart from \"../components/Charts/TimeAwakeChart.js\"\r\nimport SingleActivityDurationChart from \"../components/Charts/SingleActivityDurationChart.js\"\r\nimport CategorySharesChart from \"../components/Charts/CategorySharesChart.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\nimport { ACTIVITY_ANALYSIS_THRESHOLD } from \"../config/constants.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chartGroup: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n\r\n    chart: {\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    \r\n    flex: {\r\n        display: \"flex\",\r\n        overflowX: \"scroll\",\r\n\r\n        \"& > div\": {\r\n            marginRight: theme.spacing(1)\r\n        }\r\n    }\r\n}))\r\n\r\nfunction AnalysisPage() {\r\n    const history = useHistory()\r\n\r\n    const { date } = useParams()\r\n    \r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data, error, reload } = useAPIData({\r\n        method: \"getAnalysisByDate\",\r\n        data: date\r\n    })\r\n\r\n    const [activitiesOverThreshold, activitiesUnderThreshold] = useMemo(() => {\r\n        if (!data) {\r\n            return []\r\n        }\r\n\r\n        const activities = data.activities.filter(activity => activity.total_duration_for_date)\r\n\r\n        return [\r\n            activities.filter(activity => activity.total_duration_for_date / data.time_awake >= ACTIVITY_ANALYSIS_THRESHOLD),\r\n            activities.filter(activity => activity.total_duration_for_date / data.time_awake < ACTIVITY_ANALYSIS_THRESHOLD)\r\n        ]\r\n    }, [data])\r\n\r\n    const handleDateChange = (date) => {\r\n        if (!isLoading) {\r\n            history.push(\"/analysis/\" + date.format(\"YYYY-MM-DD\"))\r\n        }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(() => (data || error) && reload(), [date])\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: \"Analysis\"\r\n            }}\r\n        >\r\n            <DateControl onChange={handleDateChange} defaultValue={moment(date, \"YYYY-MM-DD\")}/>\r\n\r\n            { isLoading ? <LoadingIndicator/> : error?.response.status === 404 ? <EmptyPage/> : (\r\n                <div>\r\n                    <TimeAwakeChart data={data.time_awake} className={classes.chartGroup}/>\r\n\r\n                    <div className={classes.chartGroup}>\r\n                        { activitiesOverThreshold.map(activity => (\r\n                            <SingleActivityDurationChart data={activity} timeAwake={data.time_awake} className={classes.chart} key={activity.id}/>\r\n                        )) }\r\n\r\n                        <div className={clsx(classes.flex, classes.chart)}>\r\n                            { activitiesUnderThreshold.map(activity => (\r\n                                <SingleActivityDurationChart data={activity} timeAwake={data.time_awake} small key={activity.id}/>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <CategorySharesChart data={data.categories} attribute=\"total_duration_for_date\" className={classes.chartGroup}/>\r\n                </div>\r\n            )}\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AnalysisPage","import React, { useMemo } from \"react\"\r\nimport moment from \"moment\"\r\nimport { Line } from \"react-chartjs-2\"\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\"\r\n\r\nimport makeChart from \"../makeChart.js\"\r\n\r\nfunction getDayDifference(from, to) {\r\n    return (to - from) / 1000 / 3600 / 24\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    subtitle: {\r\n        fontSize: 16,\r\n        textAlign: \"center\",\r\n        opacity: .65,\r\n        margin: `-${theme.spacing()}px 0 ${theme.spacing(2)}px`\r\n    }\r\n}))\r\n\r\nfunction DurationPerDayChart({ data }) {\r\n    const theme = useTheme()\r\n    \r\n    const classes = useStyles()\r\n\r\n    const { labels, values, firstDate, lastDate } = useMemo(() => {\r\n        const sortedDates = Object.keys(data)\r\n                                .map(date => moment(date, \"DD.MM.YYYY\"))\r\n                                .sort((a, b) => a - b)\r\n\r\n        const labels = sortedDates.map(date => date.format(\"DD.MM.YYYY\"))\r\n\r\n        const values = labels.map(key => data[key].reduce((sum, current) => sum += current, 0) / 1000 / 3600)\r\n\r\n        return {\r\n            labels,\r\n            values,\r\n            firstDate: sortedDates[0],\r\n            lastDate: sortedDates[sortedDates.length - 1]\r\n        }\r\n    }, [data])\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.subtitle}>{firstDate?.format(\"DD MMMM\")} - {lastDate?.format(\"DD MMMM\")}</div>\r\n\r\n            <Line\r\n                height={300}\r\n\r\n                data={{\r\n                    labels,\r\n                    datasets: [{\r\n                        borderColor: theme.palette.secondary.main,\r\n                        data: values\r\n                    }]\r\n                }}\r\n\r\n                options={{\r\n                    elements: {\r\n                        point: {\r\n                            radius: 0\r\n                        }\r\n                    },\r\n\r\n                    legend: {\r\n                        display: false\r\n                    },\r\n\r\n                    scales: {\r\n                        xAxes: [{\r\n                            ticks: {\r\n                                autoSkip: false,\r\n                                minRotation: 0,\r\n                                maxRotation: 0,\r\n\r\n                                callback: (value, index) => {\r\n                                    const day = +value.substring(0, 2)\r\n\r\n                                    if(index === 0 || day === 1) {\r\n                                        return moment(value, \"DD.MM.YYYY\").format(\"MMMM\")\r\n                                    } else if (\r\n                                        day % 10 === 0 && \r\n                                        day < 30 && \r\n                                        getDayDifference(firstDate, moment(value, \"DD.MM.YYYY\")) > 9\r\n                                    ) {\r\n                                        return day\r\n                                    }\r\n                                }\r\n                            }\r\n                        }]\r\n                    }\r\n                }}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default makeChart(DurationPerDayChart, {\r\n    title: \"Durations Per Day\"\r\n})","import React from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nimport Layout from \"../components/Layout.js\"\r\nimport LoadingIndicator from \"../components/LoadingIndicator.js\"\r\nimport DurationPerDayChart from \"../components/Charts/DurationPerDayChart.js\"\r\nimport useAPIData from \"../utils/useAPIData.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    subtitle: {\r\n        opacity: .87,\r\n        color: theme.palette.text.primary,\r\n        fontSize: 16\r\n    },\r\n    \r\n    main: {\r\n        marginTop: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nfunction ActivityPage() {\r\n    const { id } = useParams()\r\n\r\n    const classes = useStyles()\r\n\r\n    const { isLoading, data } = useAPIData({\r\n        method: \"getActivity\",\r\n        data: id\r\n    })\r\n\r\n    if(isLoading) {\r\n        return (\r\n            <Layout>\r\n                <LoadingIndicator/>\r\n            </Layout>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout\r\n            HeaderProps={{\r\n                title: data.name,\r\n                Subtitle: () => (\r\n                    <Typography variant=\"h6\" className={classes.subtitle}>{ data.category.name }</Typography>\r\n                )\r\n            }}\r\n        >\r\n            <div className={classes.main}>\r\n                <DurationPerDayChart data={data.durations}/>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default ActivityPage","import React from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\"\r\n\r\nimport AuthPage from \"../pages/AuthPage.js\"\r\nimport LogoutPage from \"../pages/LogoutPage.js\"\r\nimport TodayPage from \"../pages/TodayPage.js\"\r\nimport AllTimePage from \"../pages/AllTimePage.js\"\r\nimport ActivitiesPage from \"../pages/ActivitiesPage.js\"\r\nimport CategoriesPage from \"../pages/CategoriesPage.js\"\r\nimport TagsPage from \"../pages/TagsPage.js\"\r\nimport AnalysisPage from \"../pages/AnalysisPage.js\"\r\nimport ActivityPage from \"../pages/ActivityPage.js\"\r\n\r\nfunction Router() {\r\n    const isLoggedIn = useSelector(store => store.auth.isLoggedIn)\r\n    \r\n    if(!isLoggedIn) {\r\n        return <AuthPage/>\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/profile\">\r\n                    <TodayPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/logout\">\r\n                    <LogoutPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/today\">\r\n                    <TodayPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/all-time\">\r\n                    <AllTimePage/>\r\n                </Route>\r\n\r\n                <Route path=\"/activities\">\r\n                    <ActivitiesPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/categories\">\r\n                    <CategoriesPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/tags\">\r\n                    <TagsPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/analysis/:date\">\r\n                    <AnalysisPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/activity/:id\">\r\n                    <ActivityPage/>\r\n                </Route>\r\n\r\n                <Route path=\"/\">\r\n                    <Redirect to=\"/today\"/>\r\n                </Route>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Router","import React from \"react\"\r\nimport { CssBaseline } from \"@material-ui/core\"\r\n\r\nimport Router from \"./router/index.js\"\r\n\r\nfunction App() {\r\n    return (\r\n        <div>\r\n            <CssBaseline/>\r\n\r\n            <Router/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/* eslint-disable no-redeclare */\r\n\r\nimport { Chart } from \"react-chartjs-2\"\r\n\r\n// Source: https://stackoverflow.com/questions/37384092/chart-js-doughnut-with-rounded-edges-and-text-centered/37393862\r\n\r\n// round corners\r\nChart.pluginService.register({\r\n    afterUpdate: function (chart) {\r\n        if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {\r\n            var arc = chart.getDatasetMeta(0).data[chart.config.options.elements.arc.roundedCornersFor];\r\n            arc.round = {\r\n                x: (chart.chartArea.left + chart.chartArea.right) / 2,\r\n                y: (chart.chartArea.top + chart.chartArea.bottom) / 2,\r\n                radius: (chart.outerRadius + chart.innerRadius) / 2,\r\n                thickness: (chart.outerRadius - chart.innerRadius) / 2,\r\n                backgroundColor: arc._model.backgroundColor\r\n            }\r\n        }\r\n    },\r\n\r\n    afterDraw: function (chart) {\r\n        if (chart.config.options.elements.arc.roundedCornersFor !== undefined) {\r\n            var ctx = chart.chart.ctx;\r\n            var arc = chart.getDatasetMeta(0).data[chart.config.options.elements.arc.roundedCornersFor];\r\n            var startAngle = Math.PI / 2 - arc._view.startAngle;\r\n            var endAngle = Math.PI / 2 - arc._view.endAngle;\r\n\r\n            ctx.save();\r\n            ctx.translate(arc.round.x, arc.round.y);\r\n            ctx.fillStyle = arc.round.backgroundColor;\r\n            ctx.beginPath();\r\n            ctx.arc(arc.round.radius * Math.sin(startAngle), arc.round.radius * Math.cos(startAngle), arc.round.thickness, 0, 2 * Math.PI);\r\n            ctx.arc(arc.round.radius * Math.sin(endAngle), arc.round.radius * Math.cos(endAngle), arc.round.thickness, 0, 2 * Math.PI);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n            ctx.restore();\r\n        }\r\n    },\r\n});\r\n\r\n// write text plugin\r\nChart.pluginService.register({\r\n    afterUpdate: function (chart) {\r\n        if (chart.config.options.elements.center) {\r\n            var helpers = Chart.helpers;\r\n            var centerConfig = chart.config.options.elements.center;\r\n            var globalConfig = Chart.defaults.global;\r\n            var ctx = chart.chart.ctx;\r\n\r\n            var fontStyle = helpers.getValueOrDefault(centerConfig.fontStyle, globalConfig.defaultFontStyle);\r\n            var fontFamily = helpers.getValueOrDefault(centerConfig.fontFamily, globalConfig.defaultFontFamily);\r\n\r\n            if (centerConfig.fontSize)\r\n                var fontSize = centerConfig.fontSize;\r\n            // figure out the best font size, if one is not specified\r\n            else {\r\n                ctx.save();\r\n                var fontSize = helpers.getValueOrDefault(centerConfig.minFontSize, 1);\r\n                var maxFontSize = helpers.getValueOrDefault(centerConfig.maxFontSize, 256);\r\n                var maxText = helpers.getValueOrDefault(centerConfig.maxText, centerConfig.text);\r\n\r\n                do {\r\n                    ctx.font = helpers.fontString(fontSize, fontStyle, fontFamily);\r\n                    var textWidth = ctx.measureText(maxText).width;\r\n\r\n                    // check if it fits, is within configured limits and that we are not simply toggling back and forth\r\n                    if (textWidth < chart.innerRadius * 2 && fontSize < maxFontSize)\r\n                        fontSize += 1;\r\n                    else {\r\n                        // reverse last step\r\n                        fontSize -= 1;\r\n                        break;\r\n                    }\r\n                } while (true)\r\n                ctx.restore();\r\n            }\r\n\r\n            // save properties\r\n            chart.center = {\r\n                font: helpers.fontString(fontSize, fontStyle, fontFamily),\r\n                fillStyle: helpers.getValueOrDefault(centerConfig.fontColor, globalConfig.defaultFontColor)\r\n            };\r\n        }\r\n    },\r\n    afterDraw: function (chart) {\r\n        if (chart.center) {\r\n            var centerConfig = chart.config.options.elements.center;\r\n            var ctx = chart.chart.ctx;\r\n\r\n            ctx.save();\r\n            ctx.font = chart.center.font;\r\n            ctx.fillStyle = chart.center.fillStyle;\r\n            ctx.textAlign = 'center';\r\n            ctx.textBaseline = 'middle';\r\n            var centerX = (chart.chartArea.left + chart.chartArea.right) / 2;\r\n            var centerY = (chart.chartArea.top + chart.chartArea.bottom) / 2;\r\n            ctx.fillText(centerConfig.text, centerX, centerY);\r\n            ctx.restore();\r\n        }\r\n    },\r\n})","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\"\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\"\r\nimport MomentUtils from \"@date-io/moment\"\r\nimport moment from \"moment\"\r\nimport { defaults } from \"react-chartjs-2\"\r\n\r\nimport store from \"./store\"\r\nimport App from \"./App.js\"\r\nimport * as serviceWorker from \"./serviceWorker.js\"\r\nimport \"./index.css\"\r\nimport \"./config/Chart.js\"\r\n\r\ndefaults.global.defaultFontColor = \"#fff\"\r\n\r\nwindow.moment = moment\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        theme: \"dark\",\r\n        type: \"dark\",\r\n\r\n        background: {\r\n            default: \"#282833\",\r\n            paper: \"#333340\"\r\n        },\r\n\r\n        primary: {\r\n            main: \"#BB86FC\",\r\n            variant: \"#3700B3\"\r\n        },\r\n\r\n        secondary: {\r\n            main: \"#03DAC5\",\r\n            dark: \"#336D6F\"\r\n        },\r\n\r\n        error: {\r\n            main: \"#CF6679\"\r\n        }\r\n    }\r\n})\r\n\r\nif(process.env.NODE_ENV === \"development\") {\r\n    console.log(theme)\r\n}\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n            <MuiPickersUtilsProvider utils={MomentUtils}>\r\n                <App/>\r\n            </MuiPickersUtilsProvider>\r\n        </ThemeProvider>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}