(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{136:function(e,t,n){e.exports=n(168)},167:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setTokenHeader",(function(){return W})),n.d(a,"login",(function(){return M})),n.d(a,"register",(function(){return F})),n.d(a,"getProfile",(function(){return Y})),n.d(a,"getAllCategories",(function(){return X})),n.d(a,"createCategory",(function(){return z})),n.d(a,"updateCategory",(function(){return G})),n.d(a,"deleteCategory",(function(){return U})),n.d(a,"getAllActivities",(function(){return J})),n.d(a,"createActivity",(function(){return $})),n.d(a,"updateActivity",(function(){return q})),n.d(a,"deleteActivity",(function(){return K})),n.d(a,"getAllPerformedActivities",(function(){return Q})),n.d(a,"getAllPerformedActivitiesByDate",(function(){return Z})),n.d(a,"getPerformedActivitiesByDate",(function(){return ee})),n.d(a,"createPerformedActivity",(function(){return te})),n.d(a,"updatePerformedActivity",(function(){return ne})),n.d(a,"deletePerformedActivity",(function(){return ae})),n.d(a,"getAllShortcuts",(function(){return re})),n.d(a,"createShortcut",(function(){return ie})),n.d(a,"deleteShortcut",(function(){return ce}));var r=n(0),i=n.n(r),c=n(10),o=n.n(c),l=n(21),u=n(115),s=n(221),m=n(26),f=n(103),d=n(49),p=n(19),g=n(17),v=n.n(g),E=n(42),b=n.n(E),h=n(62);function y(e){return e.map((function(e){return function(e){return e.finished_at=b()(e.finished_at),e}(e)}))}function O(e){return e.map((function(e){return function(e){return e.icon=h[e.icon],e}(e)}))}function j(e){var t;return"PERFORMED_ACTIVITIES"===e?t=function(e){return y(e.data)}:"PERFORMED_ACTIVITIES_BY_DATE"===e?t=function(e){return Object.values(e.data).map(y)}:"SHORTCUTS"===e&&(t=function(e){return O(e.data)}),function(e){return new Promise((function(n){t(e),n(e)}))}}var C=n(105),w=n.n(C),x=n(106),S=n.n(x),k=n(107),N=n.n(k),A=n(108),I=n.n(A),_=n(110),R=n.n(_),P=n(109),T=n.n(P),L=n(111),D=n.n(L),B=window.location.origin+"/api",V=[[{title:"Profile",to:"/profile",icon:w.a},{title:"Logout",to:"/logout",icon:S.a}],[{title:"Today",to:"/today",icon:N.a},{title:"All Time",to:"/all-time",icon:I.a},{title:"Activities",to:"/activities",icon:T.a},{title:"Categories",to:"/categories",icon:R.a},{title:"Analysis",to:"/analysis",icon:D.a}]];function W(e){v.a.defaults.headers.common={Authorization:"Baerer "+e}}function H(e){return B+e}var M=function(e){return v.a.post(H("/auth/login"),e)},F=function(e){return v.a.post(H("/auth/register"),e)},Y=function(){return v.a.get(H("/auth"))},X=function(){return v.a.get(H("/categories"))},z=function(e){return v.a.post(H("/categories"),e)},G=function(e){return v.a.put(H("/categories"),e)},U=function(e){return v.a.delete(H("/categories"),{data:e})},J=function(){return v.a.get(H("/activities"))},$=function(e){return v.a.post(H("/activities"),e)},q=function(e){return v.a.put(H("/activities"),e)},K=function(e){return v.a.delete(H("/activities"),{data:e})},Q=function(){return v.a.get(H("/performed-activities")).then(j("PERFORMED_ACTIVITIES"))},Z=function(){return v.a.get(H("/performed-activities/date")).then(j("PERFORMED_ACTIVITIES_BY_DATE"))},ee=function(e){return v.a.get(H("/performed-activities/date?date=".concat(e.date))).then(j("PERFORMED_ACTIVITIES"))},te=function(e){return v.a.post(H("/performed-activities"),e)},ne=function(e){return v.a.put(H("/performed-activities"),e)},ae=function(e){return v.a.delete(H("/performed-activities"),{data:e})},re=function(){return v.a.get(H("/shortcuts")).then(j("SHORTCUTS"))},ie=function(e){return v.a.post(H("/shortcuts"),e)},ce=function(e){return v.a.delete(H("/shortcuts"),{data:e})},oe={token:localStorage.getItem("token"),user:null,isLoggedIn:!1};W(localStorage.getItem("token"));var le,ue,se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return localStorage.setItem("token",t.token),W(t.token),Object(p.a)(Object(p.a)({},e),{},{token:t.token,user:t.user,isLoggedIn:!0});case"LOGOUT":return localStorage.removeItem("token"),W(null),Object(p.a)(Object(p.a)({},oe),{},{token:null});default:return e}},me=Object(d.b)({auth:se}),fe=Object(d.c)(me,null===(le=(ue=window).__REDUX_DEVTOOLS_EXTENSION__)||void 0===le?void 0:le.call(ue)),de=n(220),pe=n(66),ge=n(18),ve=n(6),Ee=n(169),be=n(213),he=n(202),ye=n(52),Oe=n.n(ye),je=n(78),Ce=n.n(je),we=n(203),xe=n(204),Se=n(56),ke=n(112),Ne=n.n(ke),Ae=Object(he.a)((function(e){return{appBar:{backgroundColor:e.palette.background.default,boxShadow:"none"},title:{flexGrow:1,fontWeight:"medium",marginLeft:20}}}));var Ie=function(e){var t=e.title,n=e.onMenuClick,a=Object(l.c)((function(e){return e.auth.isLoggedIn})),r=Ae();return a?i.a.createElement(we.a,{className:r.appBar,position:"static"},i.a.createElement(xe.a,null,i.a.createElement(Ee.a,{edge:"start",onClick:n},i.a.createElement(Ne.a,null)),i.a.createElement(Se.a,{variant:"h6",className:r.title,color:"textPrimary"},t))):null},_e=n(226),Re=n(205),Pe=n(206),Te=n(207),Le=n(208),De=n(209),Be=Object(he.a)((function(e){return{innerDrawer:{width:256},head:{padding:e.spacing(2),paddingBottom:0}}}));var Ve=function(e){var t=e.open,n=e.onOpen,a=e.onClose,r=Object(ge.g)(),c=Object(l.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t.email})),o=Be();return i.a.createElement(_e.a,{open:t,onOpen:n,onClose:a,anchor:"left",PaperProps:{className:o.innerDrawer}},i.a.createElement("div",{className:o.head},i.a.createElement(Se.a,{variant:"subtitle1"},c)),V.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},i.a.createElement(Re.a,null,e.map((function(e,t){return i.a.createElement(Pe.a,{button:!0,onClick:function(){return t=e.to,a(),void r.push(t);var t},key:t},i.a.createElement(Te.a,null,i.a.createElement(e.icon)),i.a.createElement(Le.a,null,e.title))}))),t<V.length-1&&i.a.createElement(De.a,null))})))},We=Object(he.a)((function(e){return{main:{margin:function(t){return"0 ".concat(e.spacing(2),"px ").concat(e.spacing(4),"px")}}}}));var He=function(e){var t=e.children,n=e.HeaderProps,a=void 0===n?{}:n,c=Object(l.c)((function(e){return e.auth.isLoggedIn})),o=We({isLoggedIn:c}),u=Object(r.useState)(!1),s=Object(ve.a)(u,2),m=s[0],f=s[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ie,Object.assign({onMenuClick:function(){return f(!0)}},a)),i.a.createElement(Ve,{open:m,onClose:function(){return f(!1)}}),i.a.createElement("div",{className:o.main},t))},Me=n(20),Fe=n.n(Me),Ye=n(35),Xe=n(3),ze=n(32),Ge=n(223),Ue=n(211),Je=n(224);function $e(e){return{type:"LOGIN",token:e.token,user:e.user}}var qe=Object(he.a)((function(e){return{spacing:{marginBottom:e.spacing(4)},title:{textAlign:"center",fontWeight:500,letterSpacing:2},alternateTitle:{textAlign:"center",fontWeight:"lighter"}}}));var Ke=function(e){var t,n,a=e.className,c=qe(),o=Object(l.b)(),u=Object(ze.b)(),s=u.register,m=u.handleSubmit,f=u.setError,d=u.errors,p=Object(r.useState)(!1),g=Object(ve.a)(p,2),v=g[0],E=g[1],b=function(){var e=Object(Ye.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email&&t.password){e.next=2;break}return e.abrupt("return");case 2:M(t).then((function(e){o($e(e.data))})).catch((function(e){404===e.response.status?f("email",{message:"Email Not found"}):401===e.response.status?f("password",{message:"Wrong password"}):E(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:a},i.a.createElement(Se.a,{variant:"h5",color:"textPrimary",className:Object(Xe.a)(c.spacing,c.title)},"LOGIN"),i.a.createElement("form",{noValidate:!0,onSubmit:m(b),className:c.spacing},i.a.createElement(Ge.a,{variant:"outlined",label:"Email",name:"email",type:"email",inputRef:s(),className:c.spacing,fullWidth:!0,error:!!d.email,helperText:null===(t=d.email)||void 0===t?void 0:t.message}),i.a.createElement(Ge.a,{variant:"outlined",label:"Password",name:"password",type:"password",inputRef:s(),className:c.spacing,fullWidth:!0,error:!!d.password,helperText:null===(n=d.password)||void 0===n?void 0:n.message}),i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,type:"submit"},"Login")),i.a.createElement(Se.a,{variant:"h5",color:"textPrimary",className:Object(Xe.a)(c.spacing,c.alternateTitle)},"OR"),v&&i.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:v,autoHideDuration:3e3,onClose:function(){return E(!1)},message:"Login failed",action:i.a.createElement(Ee.a,{onClick:function(){return E(!1)},color:"secondary"},i.a.createElement(Oe.a,null))}))},Qe=Object(he.a)((function(e){return{spacing:{marginBottom:e.spacing(4)},title:{textAlign:"center",fontWeight:500,letterSpacing:2},alternateTitle:{textAlign:"center",fontWeight:"lighter"}}}));var Ze=function(e){var t,n,a=e.className,c=Qe(),o=Object(l.b)(),u=Object(ze.b)(),s=u.register,m=u.handleSubmit,f=u.setError,d=u.errors,p=Object(r.useState)(!1),g=Object(ve.a)(p,2),v=g[0],E=g[1],b=function(){var e=Object(Ye.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email&&t.password){e.next=2;break}return e.abrupt("return");case 2:if(t.password===t.confirm_password){e.next=5;break}return f("confirm_password",{message:"Passwords do not match"}),e.abrupt("return");case 5:F(t).then((function(e){o($e(e.data))})).catch((function(e){409===e.response.status?f("email",{message:"Email is already taken"}):E(!0)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:a},i.a.createElement(Se.a,{variant:"h5",color:"textPrimary",className:Object(Xe.a)(c.spacing,c.title)},"REGISTER"),i.a.createElement("form",{noValidate:!0,onSubmit:m(b),className:c.spacing},i.a.createElement(Ge.a,{variant:"outlined",label:"Email",name:"email",type:"email",inputRef:s(),className:c.spacing,fullWidth:!0,error:!!d.email,helperText:null===(t=d.email)||void 0===t?void 0:t.message}),i.a.createElement(Ge.a,{variant:"outlined",label:"Password",name:"password",type:"password",inputRef:s(),className:c.spacing,fullWidth:!0}),i.a.createElement(Ge.a,{variant:"outlined",label:"Confirm Password",name:"confirm_password",type:"password",inputRef:s(),className:c.spacing,fullWidth:!0,error:!!d.confirm_password,helperText:null===(n=d.confirm_password)||void 0===n?void 0:n.message}),i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,type:"submit"},"Register")),v&&i.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:v,autoHideDuration:3e3,onClose:function(){return E(!1)},message:"Registration failed",action:i.a.createElement(Ee.a,{onClick:function(){return E(!1)}},i.a.createElement(Oe.a,null))}))},et=n(212),tt=Object(he.a)((function(e){return{container:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}}));var nt=function(){var e=tt();return i.a.createElement("div",{className:e.container},i.a.createElement(et.a,null))},at=Object(he.a)((function(e){return{container:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBottom:e.spacing(4)+48},form:{padding:"0 ".concat(e.spacing(2),"px")},fab:{position:"fixed",bottom:e.spacing(4),right:e.spacing(2),"& .MuiFab-label":{display:"flex",alignItems:"center","& svg":{marginRight:e.spacing(1)}}},close:{position:"absolute",top:e.spacing(4)-12,left:e.spacing(4)-12}}}));var rt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth.isLoggedIn})),n=Object(l.c)((function(e){return e.auth.token})),a=n&&!t,c=Object(r.useState)(!1),o=Object(ve.a)(c,2),u=o[0],s=o[1],m=Object(r.useState)(a),f=Object(ve.a)(m,2),d=f[0],p=f[1],g=at({showRegisterForm:u});return Object(r.useEffect)((function(){a&&Y().then((function(t){return e($e({user:t.data,token:n}))})).catch((function(){return localStorage.removeItem("token")})).finally((function(){return p(!1)}))})),i.a.createElement(He,null,i.a.createElement("div",{className:g.container,style:{paddingBottom:u&&"0"}},d?i.a.createElement(nt,null):u?i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee.a,{onClick:function(){return s(!1)},className:g.close},i.a.createElement(Oe.a,null)),i.a.createElement(Ze,{className:g.form})):i.a.createElement(i.a.Fragment,null,i.a.createElement(Ke,{className:g.form}),i.a.createElement(be.a,{variant:"extended",color:"secondary",className:g.fab,onClick:function(){return s(!0)}},i.a.createElement(Ce.a,null),"Register"))))};var it=function(){var e=Object(l.b)(),t=Object(ge.g)();return Object(r.useEffect)((function(){e({type:"LOGOUT"}),t.push("/")}),[e,t]),i.a.createElement(He,{HeaderProps:{title:"Logout"}})},ct=n(222),ot=n(227),lt=n(215),ut=n(216),st=n(217),mt=n(214),ft=n(84);var dt=function(e){var t="string"===typeof e?a[e]:a[e.method].bind(null,e.data);if(!t)throw new Error("API Method "+(e.method||e)+" not found");var n=Object(r.useState)(!e.defaultValue),i=Object(ve.a)(n,2),c=i[0],o=i[1],l=Object(r.useState)(e.defaultValue),u=Object(ve.a)(l,2),s=u[0],m=u[1],f=Object(r.useReducer)((function(e){return e+1}),0),d=Object(ve.a)(f,2),p=d[0],g=d[1];return Object(r.useEffect)((function(){e.defaultValue&&0===p||(o(!0),t().then((function(e){m(e.data),o(!1)})).catch((function(e){console.error(e)})))}),[p]),{isLoading:c,data:s,reload:g}},pt=Object(he.a)((function(e){return{container:{marginBottom:e.spacing(2)},divider:{margin:"0 ".concat(e.spacing(2),"px")}}}));var gt=function(e){var t=e.filter,n=void 0===t?"":t,a=e.style,r=e.onClick,c=pt(),o=dt("getAllActivities"),l=o.isLoading,u=o.data;if(l)return i.a.createElement(nt,null);var s=u.filter((function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())}));return i.a.createElement(ft.a,{elevation:3,className:c.container,style:a},s.length>0?i.a.createElement(Re.a,null,s.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement(Pe.a,{button:!0,onClick:function(){return r(e)}},i.a.createElement(Le.a,null,e.name)),t<s.length-1&&i.a.createElement(De.a,{className:c.divider}))}))):i.a.createElement(Re.a,null,i.a.createElement(Pe.a,null,i.a.createElement(Le.a,null,"No activities found"))))},vt=Object(he.a)((function(e){return{form:{marginBottom:e.spacing(2)},input:{margin:"".concat(e.spacing(1),"px 0"),"&:first-child":{marginTop:0}},submitButton:{margin:"8px 0 16px 0"}}}));var Et=function(e){var t=e.onSubmit,n=vt(),a=Object(ze.b)(),c=a.register,o=a.watch,l=a.reset,u=a.getValues,s=a.setValue,m=Object(r.useState)(),f=Object(ve.a)(m,2),d=f[0],p=f[1];return i.a.createElement("form",{noValidate:!0,className:n.form},i.a.createElement(Ge.a,{variant:"outlined",label:"Activity",name:"activity_name",inputRef:c(),className:n.input,fullWidth:!0,autoComplete:"off"}),i.a.createElement(gt,{filter:o("activity_name"),style:{display:!o("activity_name")&&"none"},onClick:function(e){p(e),s("activity_name",e.name)}}),i.a.createElement(Ge.a,{variant:"outlined",label:"Icon",name:"icon",inputRef:c(),className:n.input,fullWidth:!0,autoComplete:"off",InputProps:o("icon")&&h[o("icon")]?{endAdornment:i.a.createElement(mt.a,{position:"end"},i.a.createElement(h[o("icon")]))}:{}}),i.a.createElement(Ue.a,{href:"https://material-ui.com/components/material-icons/",target:"_blank"},"View available icons"),i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){d&&t({icon:u("icon"),activity_id:d.id}).then(l)},className:n.submitButton},"Add"))};var bt=function(e){var t=e.open,n=e.onClose;return i.a.createElement(lt.a,{open:t,onClose:n},i.a.createElement(ut.a,null,"Create Shortcut"),i.a.createElement(st.a,null,i.a.createElement(Et,{onSubmit:function(e){return new Promise((function(t){ie(e).then((function(){t(),n()})).catch((function(e){return console.error(e)}))}))}})))},ht=Object(he.a)((function(e){return{container:{marginBottom:e.spacing(2),overflowX:"scroll",display:"flex"},chip:{backgroundColor:"#4B4B57",marginRight:e.spacing(2)}}}));var yt=function(e){var t=e.onClick,n=ht(),a=dt("getAllShortcuts"),c=a.isLoading,o=a.data,l=a.reload,u=Object(r.useState)(!1),s=Object(ve.a)(u,2),m=s[0],f=s[1];return c?i.a.createElement(nt,null):i.a.createElement("div",{className:n.container},o.map((function(e){return i.a.createElement(ot.a,{icon:e.icon&&i.a.createElement(e.icon),label:e.activity.name,onClick:function(){return t(e.activity)},onDelete:function(){return function(e){ce(e).then(l).catch((function(e){return console.error(e)}))}(e)},className:n.chip,clickable:!0,key:e.id})})),i.a.createElement(ot.a,{icon:i.a.createElement(Ce.a,null),label:"Add Shortcut",onClick:function(){f(!0)},className:n.chip,clickable:!0}),i.a.createElement(bt,{open:m,onClose:function(){f(!1),l()}}))},Ot=Object(he.a)((function(e){return{title:{opacity:.87},primaryInputs:{display:"flex",marginBottom:e.spacing(2)},input:{margin:"".concat(e.spacing(1),"px 0")},timeDisplay:{width:e.spacing(8),marginLeft:e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center",fontSize:20},submitButton:{margin:"8px 0 16px 0"}}}));var jt=function(e){var t=e.onSubmit,n=e.defaultValues,a=e.title,c=void 0===a||a,o=e.submitButton,l=void 0!==o&&o,u=Ot(),s=Object(ze.b)({defaultValues:Object(p.a)({finished_at:b()()},n)}),m=s.register,f=s.control,d=s.watch,g=s.reset,v=s.getValues,E=Object(r.useState)(!1),h=Object(ve.a)(E,2),y=h[0],O=h[1],j=function(e){var a=v("finished_at").format("YYYY-MM-DD HH:mm");t({activity_id:(null===e||void 0===e?void 0:e.id)||n.activity_id,finished_at:a}).then(g)};return i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(Se.a,{variant:"subtitle1",className:u.title},"Register Activity"),i.a.createElement("form",{noValidate:!0},i.a.createElement("div",{className:u.primaryInputs},i.a.createElement(Ge.a,{variant:"outlined",label:"Activity",name:"activity_name",inputRef:m(),className:u.input,fullWidth:!0,autoComplete:"off"}),i.a.createElement("div",{className:u.timeDisplay,onClick:function(){return O(!0)}},d("finished_at").format("HH:mm")),i.a.createElement(ze.a,{control:f,name:"finished_at",render:function(e){var t=e.onChange,n=e.value;return i.a.createElement(ct.a,{value:n,open:y,onOpen:function(){return O(!0)},onClose:function(){return O(!1)},onChange:t,ampm:!1,style:{display:"none"}})}})),i.a.createElement(gt,{filter:d("activity_name"),style:{display:!d("activity_name")&&"none"},onClick:j}),i.a.createElement(yt,{onClick:j}),l&&i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:j,className:u.submitButton},"Save")))},Ct=n(83),wt=n(29),xt=n(113),St=n.n(xt),kt=n(114),Nt=n.n(kt);function At(e){e.preventDefault()}var It={passive:!1};function _t(e){return e.touches?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}var Rt=function(e){var t=e.children,n=e.onDragStart,a=void 0===n?function(){}:n,c=e.onDrag,o=void 0===c?function(){}:c,l=e.onDragStop,u=void 0===l?function(){}:l,s=Object(r.useRef)(),m=Object(r.useState)(!1),f=Object(ve.a)(m,2),d=f[0],p=f[1],g=Object(r.useState)(!1),v=Object(ve.a)(g,2),E=v[0],b=v[1],h=function(e){var t=_t(e);s.current=t,a(t),p(!0)},y=function(e){if(!E){var t=_t(e);if(t.deltaX=t.x-s.current.x,t.deltaY=t.y-s.current.y,d){if(Math.abs(t.deltaY)>=Math.abs(t.deltaX))return void b(!0);window.addEventListener("touchmove",At,It),p(!1)}o(t),s.current=t}},O=function(){window.removeEventListener("touchmove",At,It),E&&b(!1),u()};return i.a.cloneElement(i.a.Children.only(t),{onMouseDown:h,onMouseMove:y,onMouseUp:O,onTouchStart:h,onTouchMove:y,onTouchEnd:O})},Pt=Object(he.a)((function(e){return{container:{display:"flex",alignItems:"center"},icon:{position:"absolute",color:"#000"}}}));var Tt=function(e){var t=e.children,n=e.swipeLeftConfig,a=e.swipeRightConfig,c=e.onSwipeRight,o=e.onSwipeLeft,l=Object(wt.a)(),u=Pt(),s=Object(r.useRef)(),m=Object(r.useRef)(),f=Object(r.useState)({x:0,y:0}),d=Object(ve.a)(f,2),g=d[0],v=d[1],E=Object(r.useState)(),b=Object(ve.a)(E,2),h=b[0],y=b[1];n=Object(p.a)({color:l.palette.error.dark,icon:St.a,moveOutOfScreen:!0},n),a=Object(p.a)({color:l.palette.primary.main,icon:Nt.a,moveOutOfScreen:!1},a);var O=function(){Object(Ct.a)({targets:m.current,translateX:0,duration:200,easing:"easeOutSine",autoplay:!0,complete:function(){return v({x:0,y:0})}})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){Object(Ct.a)({targets:m.current,translateX:m.current.offsetWidth*e,duration:150,easing:"easeOutSine",autoplay:!0,complete:t})}))},C=function(e){return s.current.style.backgroundColor=e},w=function(e){m.current.style.borderRadius="right"===e?"0 ".concat(l.spacing(1),"px ").concat(l.spacing(1),"px 0"):"".concat(l.spacing(1),"px 0 0 ").concat(l.spacing(1),"px")};return Object(r.useEffect)((function(){m.current.style.transform="translateX(".concat(g.x,"px)"),0!==g.x||0!==g.y?(m.current.style.transition="box-shadow 100ms linear",m.current.style.boxShadow=l.shadows[2],m.current.style.zIndex="10"):(m.current.style.boxShadow=null,m.current.style.zIndex=null),g.x<0?(w("right"),C(n.color||""),y(n.icon)):g.x>0?(w("left"),C(a.color||""),y(a.icon)):(C(null),y(null))}),[g,a,n]),i.a.createElement("div",{ref:s,className:u.container},h&&i.a.createElement(h,{className:u.icon,style:{right:g.x<0?l.spacing(2):"null",left:g.x>0?l.spacing(2):"null"}}),i.a.createElement(Rt,{onDrag:function(e){var t=g.x+e.deltaX;t>0&&!c||t<0&&!o||v(Object(p.a)(Object(p.a)({},g),{},{x:t}))},onDragStop:function(){g.x<0?function(){var e=m.current.offsetWidth;g.x<=e/-2?n.moveOutOfScreen?j(-1).then(o):(O(),o()):O()}():g.x>0&&function(){var e=m.current.offsetWidth;g.x>=e/2?a.moveOutOfScreen?(j(1),c()):(O(),c()):O()}()}},i.a.cloneElement(i.a.Children.only(t),{ref:m})))};var Lt=function(e){var t=e.open,n=e.onClose,a=e.data;return i.a.createElement(lt.a,{open:t,onClose:n},i.a.createElement(ut.a,null,"Edit Entry"),i.a.createElement(st.a,null,i.a.createElement(jt,{title:!1,submitButton:!0,defaultValues:{activity_name:a.activity.name,activity_id:a.activity.id,finished_at:a.finished_at},onSubmit:function(e){return new Promise((function(t){ne(Object(p.a)(Object(p.a)({},e),{},{id:a.id})).then((function(){t(),n()}))}))}})))},Dt=Object(he.a)((function(e){return{container:{overflowX:"hidden",width:"100%"},item:{backgroundColor:e.palette.background.paper},itemInnerWrapper:{display:"flex",width:"100%"},itemPrimary:{flexGrow:1},itemSecondary:{height:56,display:"flex",flexDirection:"column",justifyContent:"center"},time:{fontSize:16}}}));function Bt(e){var t,n=e.entry,a=e.reloadList,c=Dt(),o=Object(r.useState)(!1),l=Object(ve.a)(o,2),u=l[0],s=l[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,{onSwipeLeft:function(){ae(n).then((function(){return a()})).catch((function(e){return console.error(e)}))},onSwipeRight:function(){s(!0)}},i.a.createElement(Pe.a,{className:c.item},i.a.createElement("div",{className:c.itemInnerWrapper},i.a.createElement("div",{className:c.itemPrimary},i.a.createElement(Le.a,{primary:n.activity.name,secondary:null===(t=n.activity.category)||void 0===t?void 0:t.name})),i.a.createElement("div",{className:c.itemSecondary},i.a.createElement("span",{className:c.time},n.finished_at.format("HH:mm")))))),i.a.createElement(Lt,{data:n,open:u,onClose:function(){s(!1),a()}}))}var Vt=i.a.forwardRef((function(e,t){var n=e.date,a=e.defaultValue,c=e.style,o=Dt(),l=dt({method:"getPerformedActivitiesByDate",defaultValue:a,data:{date:n.format("YYYY-MM-DD")}}),u=l.isLoading,s=l.data,m=l.reload,f=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return t.finished_at.unix()-e.finished_at.unix()}))}(s)}),[s]);return Object(r.useImperativeHandle)(t,(function(){return{reload:m}}),[m]),u?i.a.createElement(nt,null):i.a.createElement(ft.a,{elevation:3,className:o.container,style:c},f.length>0?i.a.createElement(Re.a,null,f.map((function(e,t){return i.a.createElement(Bt,{entry:e,reloadList:m,key:e.id})}))):i.a.createElement(Re.a,null,i.a.createElement(Pe.a,null,i.a.createElement(Le.a,null,"No entries"))))}));var Wt=function(){var e=Object(r.useRef)();return i.a.createElement(He,{HeaderProps:{title:"Today"}},i.a.createElement(jt,{onSubmit:function(t){return new Promise((function(n){te(t).then((function(){e.current.reload(),n()})).catch((function(e){console.error(e)}))}))}}),i.a.createElement(Vt,{date:b()(),ref:e}))},Ht=n(225),Mt=n(218),Ft=n(219),Yt=Object(he.a)((function(e){return{list:{marginTop:e.spacing(2)},accordionDetails:{padding:0}}}));var Xt=function(){var e=Yt(),t=dt("getAllPerformedActivitiesByDate"),n=t.isLoading,a=t.data;return i.a.createElement(He,{HeaderProps:{title:"All Time"}},i.a.createElement("div",{className:e.list},n?i.a.createElement(nt,null):Object.keys(a).map((function(t){return i.a.createElement(Ht.a,{TransitionProps:{unmountOnExit:!0},key:t},i.a.createElement(Mt.a,null,i.a.createElement(Se.a,{variant:"subtitle1"},t)),i.a.createElement(Ft.a,{classes:{root:e.accordionDetails}},i.a.createElement(Vt,{date:b()(t,"DD.MM.YYYY"),defaultValue:a[t]})))}))))},zt=Object(he.a)((function(e){return{container:{marginBottom:e.spacing(2)},divider:{margin:"0 ".concat(e.spacing(2),"px")}}}));var Gt=function(e){var t=e.filter,n=void 0===t?"":t,a=e.style,r=e.onClick,c=zt(),o=dt("getAllCategories"),l=o.isLoading,u=o.data;if(l)return i.a.createElement(nt,null);var s=u.filter((function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())}));return i.a.createElement(ft.a,{elevation:3,className:c.container,style:a},s.length>0?i.a.createElement(Re.a,null,s.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:e.id},i.a.createElement(Pe.a,{button:!0,onClick:function(){return r(e)}},i.a.createElement(Le.a,null,e.name)),t<s.length-1&&i.a.createElement(De.a,{className:c.divider}))}))):i.a.createElement(Re.a,null,i.a.createElement(Pe.a,null,i.a.createElement(Le.a,null,"No categories found"))))},Ut=Object(he.a)((function(e){return{title:{opacity:.87},input:{margin:"".concat(e.spacing(1),"px 0")},submitButton:{margin:"8px 0 16px 0"}}}));var Jt=function(e){var t=e.onSubmit,n=e.defaultValues,a=e.title,c=void 0===a||a,o=e.showAllCategories,l=void 0!==o&&o,u=e.submitText,s=void 0===u?"Create":u,m=Ut(),f=Object(ze.b)({defaultValues:n}),d=f.register,p=f.watch,g=f.reset,v=f.getValues,E=f.setValue,b=Object(r.useState)(),h=Object(ve.a)(b,2),y=h[0],O=h[1];return i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(Se.a,{variant:"subtitle1",className:m.title},"Create Activity"),i.a.createElement("form",{noValidate:!0},i.a.createElement(Ge.a,{variant:"outlined",label:"Name",name:"name",inputRef:d(),className:m.input,fullWidth:!0,autoComplete:"off"}),i.a.createElement(Ge.a,{variant:"outlined",label:"Category",name:"category_name",inputRef:d(),className:m.input,fullWidth:!0,autoComplete:"off"}),i.a.createElement(Gt,{filter:p("category_name"),style:{display:!l&&!p("category_name")&&"none"},onClick:function(e){O(e.id),E("category_name",e.name)}}),i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){var e=v();e.name&&y&&t({name:e.name,category_id:y}).then(g)},className:m.submitButton},s)))};var $t=function(e){var t=e.open,n=e.onClose,a=e.data;return i.a.createElement(lt.a,{open:t,onClose:n},i.a.createElement(ut.a,null,"Edit Activity"),i.a.createElement(st.a,null,i.a.createElement(Jt,{title:!1,showAllCategories:!0,submitText:"Save",defaultValues:{name:a.name,category_id:a.category.id,category_name:a.category.name},onSubmit:function(e){return new Promise((function(t){q(Object(p.a)(Object(p.a)({},e),{},{id:a.id})).then((function(){t(),n()}))}))}})))},qt=Object(he.a)((function(e){return{container:{marginTop:e.spacing(2),padding:0,overflow:"hidden"},listItem:{display:"flex",justifyContent:"space-between",backgroundColor:e.palette.background.paper},secondary:{fontSize:14,lineHeight:2,opacity:.87}}}));function Kt(e){var t=e.data,n=e.reloadList,a=qt(),c=Object(r.useState)(!1),o=Object(ve.a)(c,2),l=o[0],u=o[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,{onSwipeLeft:function(){K({id:t.id}).then(n).catch(console.error)},onSwipeRight:function(){u(!0)},key:t.id},i.a.createElement(Pe.a,{className:a.listItem},i.a.createElement(Se.a,{variant:"subtitle1"},t.name),i.a.createElement("span",{className:a.secondary},t.category.name))),i.a.createElement($t,{open:l,onClose:function(){u(!1),n()},data:t}))}var Qt=i.a.forwardRef((function(e,t){var n=qt(),a=dt("getAllActivities"),c=a.isLoading,o=a.data,l=a.reload;return Object(r.useImperativeHandle)(t,(function(){return{reload:l}}),[l]),c?i.a.createElement(nt,null):(o.sort((function(e,t){return e.name.localeCompare(t.name)})),i.a.createElement(ft.a,{className:n.container},i.a.createElement(Re.a,null,o.map((function(e){return i.a.createElement(Kt,{data:e,reloadList:l,key:e.id})})))))}));var Zt=function(){var e=Object(r.useRef)();return i.a.createElement(He,{HeaderProps:{title:"Activities"}},i.a.createElement(Jt,{onSubmit:function(t){return new Promise((function(n){$(t).then((function(){e.current.reload(),n()})).catch((function(e){return console.error(e)}))}))}}),i.a.createElement(Qt,{ref:e}))},en=Object(he.a)((function(e){return{title:{opacity:.87},input:{margin:"".concat(e.spacing(1),"px 0")},submitButton:{margin:"8px 0 16px 0"}}}));var tn=function(e){var t=e.onSubmit,n=e.defaultValues,a=e.title,r=void 0===a||a,c=e.submitText,o=void 0===c?"Create":c,l=en(),u=Object(ze.b)({defaultValues:n}),s=u.register,m=u.reset,f=u.getValues;return i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(Se.a,{variant:"subtitle1",className:l.title},"Create Category"),i.a.createElement("form",{noValidate:!0},i.a.createElement(Ge.a,{variant:"outlined",label:"Name",name:"name",inputRef:s(),className:l.input,fullWidth:!0,autoComplete:"off"}),i.a.createElement(Ue.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){var e=f();e.name&&t(e).then(m)},className:l.submitButton},o)))};var nn=function(e){var t=e.open,n=e.onClose,a=e.data;return i.a.createElement(lt.a,{open:t,onClose:n},i.a.createElement(ut.a,null,"Edit Category"),i.a.createElement(st.a,null,i.a.createElement(tn,{title:!1,defaultValues:a,submitText:"Save",onSubmit:function(e){return new Promise((function(t){G(Object(p.a)(Object(p.a)({},e),{},{id:a.id})).then((function(){t(),n()}))}))}})))},an=Object(he.a)((function(e){return{container:{marginTop:e.spacing(2),padding:0,overflow:"hidden"},listItem:{display:"flex",justifyContent:"space-between",backgroundColor:e.palette.background.paper},secondary:{fontSize:14,lineHeight:2,opacity:.87}}}));function rn(e){var t=e.data,n=e.reloadList,a=an(),c=Object(r.useState)(!1),o=Object(ve.a)(c,2),l=o[0],u=o[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Tt,{onSwipeLeft:function(){U({id:t.id}).then(n).catch(console.error)},onSwipeRight:function(){u(!0)},key:t.id},i.a.createElement(Pe.a,{className:a.listItem},i.a.createElement(Se.a,{variant:"subtitle1"},t.name))),i.a.createElement(nn,{open:l,onClose:function(){u(!1),n()},data:t}))}var cn=i.a.forwardRef((function(e,t){var n=an(),a=dt("getAllCategories"),c=a.isLoading,o=a.data,l=a.reload;return Object(r.useImperativeHandle)(t,(function(){return{reload:l}}),[l]),c?i.a.createElement(nt,null):(o.sort((function(e,t){return e.name.localeCompare(t.name)})),i.a.createElement(ft.a,{className:n.container},i.a.createElement(Re.a,null,o.map((function(e){return i.a.createElement(rn,{data:e,reloadList:l,key:e.id})})))))}));var on=function(){var e=Object(r.useRef)();return i.a.createElement(He,{HeaderProps:{title:"Categories"}},i.a.createElement(tn,{onSubmit:function(t){return new Promise((function(n){z(t).then((function(){e.current.reload(),n()})).catch((function(e){return console.error(e)}))}))}}),i.a.createElement(cn,{ref:e}))};var ln=function(){return i.a.createElement(He,{HeaderProps:{title:"Analysis"}})};var un=function(){return Object(l.c)((function(e){return e.auth.isLoggedIn}))?i.a.createElement(pe.a,{basename:"/app"},i.a.createElement(ge.d,null,i.a.createElement(ge.b,{path:"/profile"},i.a.createElement(Wt,null)),i.a.createElement(ge.b,{path:"/logout"},i.a.createElement(it,null)),i.a.createElement(ge.b,{path:"/today"},i.a.createElement(Wt,null)),i.a.createElement(ge.b,{path:"/all-time"},i.a.createElement(Xt,null)),i.a.createElement(ge.b,{path:"/activities"},i.a.createElement(Zt,null)),i.a.createElement(ge.b,{path:"/categories"},i.a.createElement(on,null)),i.a.createElement(ge.b,{path:"/analysis"},i.a.createElement(ln,null)),i.a.createElement(ge.b,{path:"/"},i.a.createElement(ge.a,{to:"/today"})))):i.a.createElement(rt,null)};var sn=function(){return i.a.createElement("div",null,i.a.createElement(de.a,null),i.a.createElement(un,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(167);var mn=Object(u.a)({palette:{theme:"dark",type:"dark",background:{default:"#282833",paper:"#333340"},primary:{main:"#BB86FC",variant:"#3700B3"},secondary:{main:"#03DAC5"},error:{main:"#CF6679"}}});o.a.render(i.a.createElement(l.a,{store:fe},i.a.createElement(s.a,{theme:mn},i.a.createElement(m.a,{utils:f.a},i.a.createElement(sn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[136,1,2]]]);
//# sourceMappingURL=main.6506204d.chunk.js.map